var _G={};!function($){_G={$body:$("body"),transition_duration:300}}(jQuery),function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function addElements(newElements,ownerDocument){var elements=html5.elements;"string"!=typeof elements&&(elements=elements.join(" ")),"string"!=typeof newElements&&(newElements=newElements.join(" ")),html5.elements=elements+" "+newElements,shivDocument(ownerDocument)}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-:]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,version="3.7.2",options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return void 0===frag.cloneNode||void 0===frag.createDocumentFragment||void 0===frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:version,shivCSS:!1!==options.shivCSS,supportsUnknownElements:supportsUnknownElements,shivMethods:!1!==options.shivMethods,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5,shivDocument(document)}(this,document),function($){"use strict";$('a[href^="#"]').on("click",function(event){event.preventDefault();var id=$(this).attr("href"),top=$(id).offset().top,topSC=top+1;$("body,html").animate({scrollTop:topSC},1200)})}(jQuery),function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),$(window).on("load",function(){var body=$("body");body.addClass("loaded_hiding"),window.setTimeout(function(){body.addClass("loaded"),body.removeClass("loaded_hiding")},300)}),$(function(){"use strict";$(".btn-nav").click(function(){$(".nav-mobile").toggleClass("_in")}),$(".header-list .js-m").click(function(){$(".nav-mobile").removeClass("_in")})}),$(document).on("scroll",function(){$(this).scrollTop()>=250?$(".header-fixed").addClass("_stick"):$(".header-fixed").removeClass("_stick")}),function(root,factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):root.Fresco=factory(jQuery)}(this,function($){function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function Timers(){return this.initialize.apply(this,_slice.call(arguments))}function getURIData(url){var result={type:"image"};return $.each(Types,function(i,type){var data=type.data(url);data&&(result=data,result.type=i,result.url=url)}),result}function detectExtension(url){var ext=(url||"").replace(/\?.*/g,"").match(/\.([^.]{3,4})$/);return ext?ext[1].toLowerCase():null}function View(){this.initialize.apply(this,_slice.call(arguments))}function Thumbnail(){this.initialize.apply(this,_slice.call(arguments))}var Fresco={};$.extend(Fresco,{version:"2.3.0"}),Fresco.Skins={fresco:{}};var Bounds={viewport:function(){var dimensions={width:$(window).width()};if(Browser.MobileSafari||Browser.Android&&Browser.Gecko){var zoom=document.documentElement.clientWidth/window.innerWidth;dimensions.height=window.innerHeight*zoom}else dimensions.height=$(window).height();return dimensions}},Browser=function(uA){function getVersion(identifier){var version=new RegExp(identifier+"([\\d.]+)").exec(uA);return!version||parseFloat(version[1])}return{IE:!(!window.attachEvent||-1!==uA.indexOf("Opera"))&&getVersion("MSIE "),Opera:uA.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:uA.indexOf("AppleWebKit/")>-1&&getVersion("AppleWebKit/"),Gecko:uA.indexOf("Gecko")>-1&&-1===uA.indexOf("KHTML")&&getVersion("rv:"),MobileSafari:!!uA.match(/Apple.*Mobile.*Safari/),Chrome:uA.indexOf("Chrome")>-1&&getVersion("Chrome/"),ChromeMobile:uA.indexOf("CrMo")>-1&&getVersion("CrMo/"),Android:uA.indexOf("Android")>-1&&getVersion("Android "),IEMobile:uA.indexOf("IEMobile")>-1&&getVersion("IEMobile/")}}(navigator.userAgent),_slice=Array.prototype.slice,_={isElement:function(object){return object&&1===object.nodeType},String:{capitalize:function(string){return(string=baseToString(string))&&string.charAt(0).toUpperCase()+string.slice(1)}}};!function(){function wheel(event){var realDelta;if(event.originalEvent.wheelDelta?realDelta=event.originalEvent.wheelDelta/120:event.originalEvent.detail&&(realDelta=-event.originalEvent.detail/3),realDelta){var customEvent=$.Event("fresco:mousewheel");$(event.target).trigger(customEvent,realDelta),customEvent.isPropagationStopped()&&event.stopPropagation(),customEvent.isDefaultPrevented()&&event.preventDefault()}}$(document.documentElement).on("mousewheel DOMMouseScroll",wheel)}();var Fit={within:function(bounds,dimensions){for(var options=$.extend({height:!0,width:!0},arguments[2]||{}),size=$.extend({},dimensions),scale=1,attempts=5,fit={width:options.width,height:options.height};attempts>0&&(fit.width&&size.width>bounds.width||fit.height&&size.height>bounds.height);){var scaleX=1,scaleY=1;fit.width&&size.width>bounds.width&&(scaleX=bounds.width/size.width),fit.height&&size.height>bounds.height&&(scaleY=bounds.height/size.height),scale=Math.min(scaleX,scaleY),size={width:dimensions.width*scale,height:dimensions.height*scale},attempts--}return size.width=Math.max(size.width,0),size.height=Math.max(size.height,0),size}};$.extend($.easing,{frescoEaseInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},frescoEaseInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},frescoEaseOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b}});var Support=function(){function prefixed(property){return testAllProperties(property,"prefix")}function testProperties(properties,prefixed){for(var i in properties)if(void 0!==testElement.style[properties[i]])return"prefix"!==prefixed||properties[i];return!1}function testAllProperties(property,prefixed){var ucProperty=property.charAt(0).toUpperCase()+property.substr(1);return testProperties((property+" "+domPrefixes.join(ucProperty+" ")+ucProperty).split(" "),prefixed)}var testElement=document.createElement("div"),domPrefixes="Webkit Moz O ms Khtml".split(" ");return{canvas:function(){var canvas=document.createElement("canvas");return!(!canvas.getContext||!canvas.getContext("2d"))}(),css:{animation:testAllProperties("animation"),transform:testAllProperties("transform"),prefixed:prefixed},svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(e){return!1}}()}}();Support.detectMobileTouch=function(){Support.mobileTouch=Support.touch&&(Browser.MobileSafari||Browser.Android||Browser.IEMobile||Browser.ChromeMobile||!/^(Win|Mac|Linux)/.test(navigator.platform))},Support.detectMobileTouch();var ImageReady=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};$.extend(ImageReady.prototype,{supports:{naturalWidth:function(){return"naturalWidth"in new Image}()},initialize:function(img,successCallback,errorCallback){return this.img=$(img)[0],this.successCallback=successCallback,this.errorCallback=errorCallback,this.isLoaded=!1,this.options=$.extend({method:"naturalWidth",pollFallbackAfter:1e3},arguments[3]||{}),this.supports.naturalWidth&&"onload"!==this.options.method?this.img.complete&&"undefined"!==$.type(this.img.naturalWidth)?void setTimeout($.proxy(function(){this.img.naturalWidth>0?this.success():this.error()},this)):($(this.img).bind("error",$.proxy(function(){setTimeout($.proxy(function(){this.error()},this))},this)),this.intervals=[[1e3,10],[2e3,50],[4e3,100],[2e4,500]],this._ipos=0,this._time=0,this._delay=this.intervals[this._ipos][1],void this.poll()):void setTimeout($.proxy(this.fallback,this))},poll:function(){this._polling=setTimeout($.proxy(function(){if(this.img.naturalWidth>0)return void this.success();if(this._time+=this._delay,this.options.pollFallbackAfter&&this._time>=this.options.pollFallbackAfter&&!this._usedPollFallback&&(this._usedPollFallback=!0,this.fallback()),this._time>this.intervals[this._ipos][0]){if(!this.intervals[this._ipos+1])return void this.error();this._ipos++,this._delay=this.intervals[this._ipos][1]}this.poll()},this),this._delay)},fallback:function(){var img=new Image;this._fallbackImg=img,img.onload=$.proxy(function(){img.onload=function(){},this.supports.naturalWidth||(this.img.naturalWidth=img.width,this.img.naturalHeight=img.height),this.success()},this),img.onerror=$.proxy(this.error,this),img.src=this.img.src},abort:function(){this._fallbackImg&&(this._fallbackImg.onload=function(){}),this._polling&&(clearTimeout(this._polling),this._polling=null)},success:function(){this._calledSuccess||(this._calledSuccess=!0,this.isLoaded=!0,this.successCallback(this))},error:function(){this._calledError||(this._calledError=!0,this.abort(),this.errorCallback&&this.errorCallback(this))}}),$.extend(Timers.prototype,{initialize:function(){this._timers={}},set:function(name,handler,ms){this._timers[name]=setTimeout(handler,ms)},get:function(name){return this._timers[name]},clear:function(name){name?this._timers[name]&&(clearTimeout(this._timers[name]),delete this._timers[name]):this.clearAll()},clearAll:function(){$.each(this._timers,function(i,timer){clearTimeout(timer)}),this._timers={}}});var Type={isVideo:function(type){return/^(youtube|vimeo)$/.test(type)}},Types={image:{extensions:"bmp gif jpeg jpg png webp",detect:function(url){return $.inArray(detectExtension(url),this.extensions.split(" "))>-1},data:function(url){return!!this.detect()&&{extension:detectExtension(url)}}},vimeo:{detect:function(url){var res=/(vimeo\.com)\/([a-zA-Z0-9-_]+)(?:\S+)?$/i.exec(url);return!(!res||!res[2])&&res[2]},data:function(url){var id=this.detect(url);return!!id&&{id:id}}},youtube:{detect:function(url){var res=/(youtube\.com|youtu\.be)\/watch\?(?=.*vi?=([a-zA-Z0-9-_]+))(?:\S+)?$/.exec(url);return res&&res[2]?res[2]:!(!(res=/(youtube\.com|youtu\.be)\/(vi?\/|u\/|embed\/)?([a-zA-Z0-9-_]+)(?:\S+)?$/i.exec(url))||!res[3])&&res[3]},data:function(url){var id=this.detect(url);return!!id&&{id:id}}}},VimeoThumbnail=function(){var VimeoThumbnail=function(){return this.initialize.apply(this,_slice.call(arguments))};$.extend(VimeoThumbnail.prototype,{initialize:function(url,successCallback,errorCallback){this.url=url,this.successCallback=successCallback,this.errorCallback=errorCallback,this.load()},load:function(){var cache=Cache.get(this.url);if(cache)return this.successCallback(cache.data.url);var protocol="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",video_id=getURIData(this.url).id;this._xhr=$.getJSON(protocol+"//vimeo.com/api/oembed.json?url="+protocol+"//vimeo.com/"+video_id+"&callback=?",$.proxy(function(_data){if(_data&&_data.thumbnail_url){var data={url:_data.thumbnail_url};Cache.set(this.url,data),this.successCallback(data.url)}else this.errorCallback()},this))},abort:function(){this._xhr&&(this._xhr.abort(),this._xhr=null)}});var Cache={cache:[],get:function(url){for(var entry=null,i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===url&&(entry=this.cache[i]);return entry},set:function(url,data){this.remove(url),this.cache.push({url:url,data:data})},remove:function(url){for(var i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===url&&delete this.cache[i]}};return VimeoThumbnail}(),VimeoReady=function(){var VimeoReady=function(){return this.initialize.apply(this,_slice.call(arguments))};$.extend(VimeoReady.prototype,{initialize:function(url,callback){this.url=url,this.callback=callback,this.load()},load:function(){var cache=Cache.get(this.url);if(cache)return this.callback(cache.data);var protocol="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",video_id=getURIData(this.url).id;this._xhr=$.getJSON(protocol+"//vimeo.com/api/oembed.json?url="+protocol+"//vimeo.com/"+video_id+"&maxwidth=9999999&maxheight=9999999&callback=?",$.proxy(function(_data){var data={dimensions:{width:_data.width,height:_data.height}};Cache.set(this.url,data),this.callback&&this.callback(data)},this))},abort:function(){this._xhr&&(this._xhr.abort(),this._xhr=null)}});var Cache={cache:[],get:function(url){for(var entry=null,i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===url&&(entry=this.cache[i]);return entry},set:function(url,data){this.remove(url),this.cache.push({url:url,data:data})},remove:function(url){for(var i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===url&&delete this.cache[i]}};return VimeoReady}(),Options={defaults:{effects:{content:{show:0,hide:0},spinner:{show:150,hide:150},window:{show:440,hide:300},thumbnail:{show:300,delay:150},thumbnails:{slide:0}},keyboard:{left:!0,right:!0,esc:!0},loadedMethod:"naturalWidth",loop:!1,onClick:"previous-next",overflow:!1,overlay:{close:!0},preload:[1,2],position:!0,skin:"fresco",spinner:!0,spinnerDelay:300,sync:!0,thumbnails:"horizontal",ui:"outside",uiDelay:3e3,vimeo:{autoplay:1,api:1,title:1,byline:1,portrait:0,loop:0},youtube:{autoplay:1,controls:1,enablejsapi:1,hd:1,iv_load_policy:3,loop:0,modestbranding:1,rel:0,vq:"hd1080"},initialTypeOptions:{image:{},vimeo:{width:1280},youtube:{width:1280,height:720}}},create:function(opts,type,data){opts=opts||{},data=data||{},opts.skin=opts.skin||this.defaults.skin;var selected=opts.skin?$.extend({},Fresco.Skins[opts.skin]||Fresco.Skins[this.defaults.skin]):{},merged=$.extend(!0,{},this.defaults,selected);merged.initialTypeOptions&&(type&&merged.initialTypeOptions[type]&&(merged=$.extend(!0,{},merged.initialTypeOptions[type],merged)),delete merged.initialTypeOptions);var options=$.extend(!0,{},merged,opts);if(Support.mobileTouch&&"inside"===options.ui&&(options.ui="outside"),(!options.effects||Browser.IE&&Browser.IE<9)&&(options.effects={},$.each(this.defaults.effects,function(name,effect){$.each(options.effects[name]=$.extend({},effect),function(option){options.effects[name][option]=0})}),options.spinner=!1),options.keyboard&&("boolean"===$.type(options.keyboard)&&(options.keyboard={},$.each(this.defaults.keyboard,function(key,bool){options.keyboard[key]=!0})),"vimeo"!==type&&"youtube"!==type||$.extend(options.keyboard,{left:!1,right:!1})),!options.overflow||Support.mobileTouch?options.overflow={x:!1,y:!1}:"boolean"===$.type(options.overflow)&&(options.overflow={x:!1,y:!0}),"vimeo"!==type&&"youtube"!==type||(options.overlap=!1),(Browser.IE&&Browser.IE<9||Support.mobileTouch)&&(options.thumbnail=!1,options.thumbnails=!1),"youtube"!==type&&(options.width&&!options.maxWidth&&(options.maxWidth=options.width),options.height&&!options.maxHeight&&(options.maxHeight=options.height)),!options.thumbnail&&"boolean"!==$.type(options.thumbnail)){var thumbnail=!1;switch(type){case"youtube":thumbnail="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":"+"//img.youtube.com/vi/"+data.id+"/0.jpg";break;case"image":case"vimeo":thumbnail=!0}options.thumbnail=thumbnail}return options}},Overlay={initialize:function(){this.build(),this.visible=!1},build:function(){this.element=$("<div>").addClass("fr-overlay").hide().append($("<div>").addClass("fr-overlay-background")),this.element.on("click",$.proxy(function(){var page=Pages.page;page&&page.view&&page.view.options.overlay&&!page.view.options.overlay.close||Window.hide()},this)),Support.mobileTouch&&this.element.addClass("fr-mobile-touch"),this.element.on("fresco:mousewheel",function(event){event.preventDefault()})},setSkin:function(skin){this.skin&&this.element.removeClass("fr-overlay-skin-"+this.skin),this.element.addClass("fr-overlay-skin-"+skin),this.skin=skin},attach:function(){$(document.body).append(this.element)},detach:function(){this.element.detach()},show:function(callback,alternateDuration){if(this.visible)return void(callback&&callback());this.visible=!0,this.attach(),this.max();var pDuration=Pages.page&&Pages.page.view.options.effects.window.show||0,duration=("number"===$.type(alternateDuration)?alternateDuration:pDuration)||0;this.element.stop(!0).fadeTo(duration,1,callback)},hide:function(callback,alternateDuration){if(!this.visible)return void(callback&&callback());var pDuration=Pages.page&&Pages.page.view.options.effects.window.hide||0,duration=("number"===$.type(alternateDuration)?alternateDuration:pDuration)||0;this.element.stop(!0).fadeOut(duration||0,$.proxy(function(){this.detach(),this.visible=!1,callback&&callback()},this))},getScrollDimensions:function(){var dimensions={};return $.each(["width","height"],function(i,d){var D=d.substr(0,1).toUpperCase()+d.substr(1),ddE=document.documentElement;dimensions[d]=(Browser.IE?Math.max(ddE["offset"+D],ddE["scroll"+D]):Browser.WebKit?document.body["scroll"+D]:ddE["scroll"+D])||0}),dimensions},max:function(){var scrollDimensions;if(Browser.MobileSafari&&Browser.WebKit&&Browser.WebKit<533.18&&(scrollDimensions=this.getScrollDimensions(),this.element.css(scrollDimensions)),Browser.IE&&Browser.IE<9){var viewport=Bounds.viewport();this.element.css({height:viewport.height,width:viewport.width})}Support.mobileTouch&&!scrollDimensions&&this.element.css({height:this.getScrollDimensions().height})}},Window={initialize:function(){this.queues=[],this.queues.hide=$({}),this.pages=[],this._tracking=[],this._first=!0,this.timers=new Timers,this.build(),this.setSkin(Options.defaults.skin)},build:function(){if(this.element=$("<div>").addClass("fr-window fr-measured").hide().append(this._box=$("<div>").addClass("fr-box").append(this._pages=$("<div>").addClass("fr-pages"))).append(this._thumbnails=$("<div>").addClass("fr-thumbnails")),Overlay.initialize(),Pages.initialize(this._pages),Thumbnails.initialize(this._thumbnails),Spinner.initialize(),UI.initialize(),this.element.addClass("fr"+(Support.mobileTouch?"":"-no")+"-mobile-touch"),this.element.addClass("fr"+(Support.svg?"":"-no")+"-svg"),Browser.IE)for(var i=7;i<=9;i++)Browser.IE<i&&this.element.addClass("fr-ltIE"+i);this.element.on("fresco:mousewheel",function(event){event.preventDefault()})},attach:function(){this._attached||($(document.body).append(this.element),this._attached=!0)},detach:function(){this._attached&&(this.element.detach(),this._attached=!1)},setSkin:function(skin){this._skin&&this.element.removeClass("fr-window-skin-"+this._skin),this.element.addClass("fr-window-skin-"+skin),Overlay.setSkin(skin),this._skin=skin},setShowingType:function(type){this._showingType!==type&&(this._showingType&&(this.element.removeClass("fr-showing-type-"+this._showingType),Type.isVideo(this._showingType)&&this.element.removeClass("fr-showing-type-video")),this.element.addClass("fr-showing-type-"+type),Type.isVideo(type)&&this.element.addClass("fr-showing-type-video"),this._showingType=type)},startObservingResize:function(){this._onWindowResizeHandler||$(window).on("resize orientationchange",this._onWindowResizeHandler=$.proxy(this._onWindowResize,this))},stopObservingResize:function(){this._onWindowResizeHandler&&($(window).off("resize orientationchange",this._onWindowResizeHandler),this._onWindowResizeHandler=null)},_onScroll:function(){Support.mobileTouch&&this.timers.set("scroll",$.proxy(this.adjustToScroll,this),0)},_onWindowResize:function(){var page;(page=Pages.page)&&(Thumbnails.fitToViewport(),this.updateBoxDimensions(),page.fitToBox(),UI.update(),UI.adjustPrevNext(null,0),Spinner.center(),Overlay.max(),UI._onWindowResize(),this._onScroll())},adjustToScroll:function(){Support.mobileTouch&&this.element.css({top:$(window).scrollTop()})},getBoxDimensions:function(){return this._boxDimensions},updateBoxDimensions:function(){if(Pages.page){var viewport=Bounds.viewport(),thumbnails=Thumbnails.getDimensions(),isHorizontal="horizontal"===Thumbnails._orientation;this._boxDimensions={width:isHorizontal?viewport.width:viewport.width-thumbnails.width,height:isHorizontal?viewport.height-thumbnails.height:viewport.height},this._boxPosition={top:0,left:isHorizontal?0:thumbnails.width},this._box.css($.extend({},this._boxDimensions,this._boxPosition))}},show:function(callback,alternateDuration){if(this.visible)return void(callback&&callback());this.visible=!0,this.opening=!0,this.attach(),this.timers.clear("show-window"),this.timers.clear("hide-overlay"),this.adjustToScroll();var duration=("number"===$.type(alternateDuration)?alternateDuration:Pages.page&&Pages.page.view.options.effects.window.show)||0,fx=2;Overlay[Pages.page&&Pages.page.view.options.overlay?"show":"hide"](function(){callback&&--fx<1&&callback()},duration),this.timers.set("show-window",$.proxy(function(){this._show($.proxy(function(){this.opening=!1,callback&&--fx<1&&callback()},this),duration)},this),duration>1?Math.min(.5*duration,50):1)},_show:function(callback,alternateDuration){var duration=("number"===$.type(alternateDuration)?alternateDuration:Pages.page&&Pages.page.view.options.effects.window.show)||0;this.element.stop(!0).fadeTo(duration,1,callback)},hide:function(callback){if(this.view){var hideQueue=this.queues.hide;hideQueue.queue([]),this.timers.clear("show-window"),this.timers.clear("hide-overlay");var duration=Pages.page?Pages.page.view.options.effects.window.hide:0;hideQueue.queue($.proxy(function(next_stop){Pages.stop(),Spinner.hide(),next_stop()},this)),hideQueue.queue($.proxy(function(next_unbinds){UI.disable(),UI.hide(null,duration),Keyboard.disable(),next_unbinds()},this)),hideQueue.queue($.proxy(function(next_hidden){var fx=2;this._hide(function(){--fx<1&&next_hidden()},duration),this.timers.set("hide-overlay",$.proxy(function(){Overlay.hide(function(){--fx<1&&next_hidden()},duration)},this),duration>1?Math.min(.5*duration,150):1),this._first=!0},this)),hideQueue.queue($.proxy(function(next_after_resize){this._reset(),this.stopObservingResize(),Pages.removeAll(),Thumbnails.clear(),this.timers.clear(),this._position=-1;var afterHide=Pages.page&&Pages.page.view.options.afterHide;"function"===$.type(afterHide)&&afterHide.call(Fresco),this.view=null,this.opening=!1,this.closing=!1,this.detach(),next_after_resize()},this)),"function"===$.type(callback)&&hideQueue.queue($.proxy(function(next_callback){callback(),next_callback()},this))}},_hide:function(callback,alternateDuration){var duration=("number"===$.type(alternateDuration)?alternateDuration:Pages.page&&Pages.page.view.options.effects.window.hide)||0;this.element.stop(!0).fadeOut(duration,callback)},load:function(views,position){this.views=views,this.attach(),Thumbnails.load(views),Pages.load(views),this.startObservingResize(),position&&this.setPosition(position)},setPosition:function(position,callback){this._position=position,this.view=this.views[position-1],this.stopHideQueue(),this.page=Pages.show(position,$.proxy(function(){callback&&callback()},this))},stopHideQueue:function(){this.queues.hide.queue([])},_reset:function(){this.visible=!1,UI.hide(null,0),UI.reset()},mayPrevious:function(){return this.view&&this.view.options.loop&&this.views&&this.views.length>1||1!==this._position},previous:function(force){var mayPrevious=this.mayPrevious();(force||mayPrevious)&&this.setPosition(this.getSurroundingIndexes().previous)},mayNext:function(){var hasViews=this.views&&this.views.length>1;return this.view&&this.view.options.loop&&hasViews||hasViews&&1!==this.getSurroundingIndexes().next},next:function(force){var mayNext=this.mayNext();(force||mayNext)&&this.setPosition(this.getSurroundingIndexes().next)},getSurroundingIndexes:function(){if(!this.views)return{};var pos=this._position,length=this.views.length;return{previous:pos<=1?length:pos-1,next:pos>=length?1:pos+1}}},Keyboard={enabled:!1,keyCode:{left:37,right:39,esc:27},enable:function(enabled){this.disable(),enabled&&($(document).on("keydown",this._onKeyDownHandler=$.proxy(this.onKeyDown,this)).on("keyup",this._onKeyUpHandler=$.proxy(this.onKeyUp,this)),this.enabled=enabled)},disable:function(){this.enabled=!1,this._onKeyUpHandler&&($(document).off("keyup",this._onKeyUpHandler).off("keydown",this._onKeyDownHandler),this._onKeyUpHandler=this._onKeyDownHandler=null)},onKeyDown:function(event){if(this.enabled){var key=this.getKeyByKeyCode(event.keyCode);if(key&&(!key||!this.enabled||this.enabled[key]))switch(event.preventDefault(),event.stopPropagation(),key){case"left":Window.previous();break;case"right":Window.next()}}},onKeyUp:function(event){if(this.enabled){var key=this.getKeyByKeyCode(event.keyCode);if(key&&(!key||!this.enabled||this.enabled[key]))switch(key){case"esc":Window.hide()}}},getKeyByKeyCode:function(keyCode){for(var key in this.keyCode)if(this.keyCode[key]===keyCode)return key;return null}},Page=function(){function Page(){return this.initialize.apply(this,_slice.call(arguments))}var _uid=0,_loadedUrlCache={},_strokes=$("<div>").addClass("fr-stroke fr-stroke-top fr-stroke-horizontal").append($("<div>").addClass("fr-stroke-color")).add($("<div>").addClass("fr-stroke fr-stroke-bottom fr-stroke-horizontal").append($("<div>").addClass("fr-stroke-color"))).add($("<div>").addClass("fr-stroke fr-stroke-left fr-stroke-vertical").append($("<div>").addClass("fr-stroke-color"))).add($("<div>").addClass("fr-stroke fr-stroke-right fr-stroke-vertical").append($("<div>").addClass("fr-stroke-color")));return $.extend(Page.prototype,{initialize:function(view,position,total){this.view=view,this.dimensions={width:0,height:0},this.uid=_uid++,this._position=position,this._total=total,this._fullClick=!1,this._visible=!1,this.queues={},this.queues.showhide=$({})},create:function(){if(!this._created){Pages.element.append(this.element=$("<div>").addClass("fr-page").append(this.container=$("<div>").addClass("fr-container")).css({opacity:0}).hide());var hasPosition=this.view.options.position&&this._total>1;if(hasPosition&&this.element.addClass("fr-has-position"),(this.view.caption||hasPosition)&&(this.element.append(this.info=$("<div>").addClass("fr-info").append($("<div>").addClass("fr-info-background")).append(_strokes.clone(!0)).append(this.infoPadder=$("<div>").addClass("fr-info-padder"))),hasPosition&&(this.element.addClass("fr-has-position"),this.infoPadder.append(this.pos=$("<div>").addClass("fr-position").append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total)))),this.view.caption&&this.infoPadder.append(this.caption=$("<div>").addClass("fr-caption").html(this.view.caption))),this.container.append(this.background=$("<div>").addClass("fr-content-background")).append(this.content=$("<div>").addClass("fr-content")),"image"==this.view.type&&(this.content.append(this.image=$("<img>").addClass("fr-content-element").attr({src:this.view.url})),this.content.append(_strokes.clone(!0))),hasPosition&&"outside"==this.view.options.ui&&this.container.append(this.positionOutside=$("<div>").addClass("fr-position-outside").append($("<div>").addClass("fr-position-background")).append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total))),"inside"==this.view.options.ui){this.content.append(this.previousInside=$("<div>").addClass("fr-side fr-side-previous fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this.nextInside=$("<div>").addClass("fr-side fr-side-next fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this.closeInside=$("<div>").addClass("fr-close fr-toggle-ui").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),(this.view.caption||hasPosition&&this.view.grouped.caption)&&(this.content.append(this.infoInside=$("<div>").addClass("fr-info fr-toggle-ui").append($("<div>").addClass("fr-info-background")).append(_strokes.clone(!0)).append(this.infoPadderInside=$("<div>").addClass("fr-info-padder"))),hasPosition&&this.infoPadderInside.append(this.posInside=$("<div>").addClass("fr-position").append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total))),this.view.caption&&this.infoPadderInside.append(this.captionInside=$("<div>").addClass("fr-caption").html(this.view.caption))),this.view.caption||!hasPosition||this.view.grouped.caption||this.content.append(this.positionInside=$("<div>").addClass("fr-position-inside fr-toggle-ui").append($("<div>").addClass("fr-position-background")).append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total)));var mayPrevious=this.view.options.loop&&this._total>1||1!=this._position,mayNext=this.view.options.loop&&this._total>1||this._position<this._total;this.previousInside[(mayPrevious?"remove":"add")+"Class"]("fr-side-disabled"),this.nextInside[(mayNext?"remove":"add")+"Class"]("fr-side-disabled")}$.each(["x","y"],$.proxy(function(i,z){this.view.options.overflow[z]&&this.element.addClass("fr-overflow-"+z)},this)),this.element.addClass("fr-type-"+this.view.type),Type.isVideo(this.view.type)&&this.element.addClass("fr-type-video"),this._total<2&&this.element.addClass("fr-no-sides"),this._created=!0}},_getSurroundingPages:function(){var preload;if(!(preload=this.view.options.preload))return[];for(var pages=[],begin=Math.max(1,this._position-preload[0]),end=Math.min(this._position+preload[1],this._total),pos=this._position,i=pos;i<=end;i++){var page=Pages.pages[i-1];page._position!=pos&&pages.push(page)}for(var i=pos;i>=begin;i--){var page=Pages.pages[i-1];page._position!=pos&&pages.push(page)}return pages},preloadSurroundingImages:function(){var pages=this._getSurroundingPages();$.each(pages,$.proxy(function(i,page){page.preload()},this))},preload:function(){this.preloading||this.preloaded||"image"!=this.view.type||!this.view.options.preload||this.loaded||(this.create(),this.preloading=!0,this.preloadReady=new ImageReady(this.image[0],$.proxy(function(imageReady){this.loaded=!0,_loadedUrlCache[this.view.url]=!0,this.preloading=!1,this.preloaded=!0,this.dimensions={width:imageReady.img.naturalWidth,height:imageReady.img.naturalHeight}},this),null,{method:"naturalWidth"}))},load:function(callback,isPreload){if(this.create(),this.loaded)return void(callback&&callback());switch(this.abort(),this.loading=!0,this.view.options.spinner&&(this._spinnerDelay=setTimeout($.proxy(function(){Spinner.show()},this),this.view.options.spinnerDelay||0)),this.view.type){case"image":if(this.error)return void(callback&&callback());this.imageReady=new ImageReady(this.image[0],$.proxy(function(imageReady){this._markAsLoaded(),this.setDimensions({width:imageReady.img.naturalWidth,height:imageReady.img.naturalHeight}),callback&&callback()},this),$.proxy(function(){this._markAsLoaded(),this.image.hide(),this.content.prepend(this.error=$("<div>").addClass("fr-error fr-content-element").append($("<div>").addClass("fr-error-icon"))),this.element.addClass("fr-has-error"),this.setDimensions({width:this.error.outerWidth(),height:this.error.outerHeight()}),this.error.css({width:"100%",height:"100%"}),callback&&callback()},this),{method:this.view.options.loadedMethod});break;case"vimeo":this.vimeoReady=new VimeoReady(this.view.url,$.proxy(function(data){this._markAsLoaded(),this.setDimensions({width:data.dimensions.width,height:data.dimensions.height}),callback&&callback()},this));break;case"youtube":this._markAsLoaded(),this.setDimensions({width:this.view.options.width,height:this.view.options.height}),callback&&callback()}},setDimensions:function(dimensions){if(this.dimensions=dimensions,this.view.options.maxWidth||this.view.options.maxHeight){var opts=this.view.options,bounds={width:opts.maxWidth?opts.maxWidth:this.dimensions.width,height:opts.maxHeight?opts.maxHeight:this.dimensions.height};this.dimensions=Fit.within(bounds,this.dimensions)}},_markAsLoaded:function(){this._abortSpinnerDelay(),this.loading=!1,this.loaded=!0,_loadedUrlCache[this.view.url]=!0,Spinner.hide(null,null,this._position)},isVideo:function(){return Type.isVideo(this.view.type)},insertVideo:function(callback){if(this.playerIframe||!this.isVideo())return void(callback&&callback());var protocol="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",playerVars=$.extend({},this.view.options[this.view.type]||{}),queryString=$.param(playerVars),urls={vimeo:protocol+"//player.vimeo.com/video/{id}?{queryString}",youtube:protocol+"//www.youtube.com/embed/{id}?{queryString}"},src=urls[this.view.type].replace("{id}",this.view._data.id).replace("{queryString}",queryString);this.content.prepend(this.playerIframe=$("<iframe webkitAllowFullScreen mozallowfullscreen allowFullScreen>").addClass("fr-content-element").attr({src:src,height:this._contentDimensions.height,width:this._contentDimensions.width,frameborder:0})),callback&&callback()},raise:function(){var lastChild=Pages.element[0].lastChild;lastChild&&lastChild===this.element[0]||Pages.element.append(this.element)},show:function(callback){var shq=this.queues.showhide;shq.queue([]),shq.queue($.proxy(function(next_stopped_inactive){var needsLoading=this.view.options.spinner&&!_loadedUrlCache[this.view.url];Spinner._visible&&!needsLoading&&Spinner.hide(),Pages.stopInactive(),next_stopped_inactive()},this)),shq.queue($.proxy(function(next_updated_UI){this.updateUI(),UI.set(this._ui),next_updated_UI()},this)),shq.queue($.proxy(function(next_keyboard){Keyboard.enable(this.view.options.keyboard),next_keyboard()},this)),shq.queue($.proxy(function(next_loaded){Spinner.setSkin(this.view.options.skin),this.load($.proxy(function(){this.preloadSurroundingImages(),next_loaded()},this))},this)),shq.queue($.proxy(function(next_utility){this.raise(),Window.setSkin(this.view.options.skin),UI.enable(),this.fitToBox(),Window.adjustToScroll(),next_utility()},this)),this.isVideo()&&shq.queue($.proxy(function(next_video_inserted){this.insertVideo($.proxy(function(){next_video_inserted()}))},this)),this.view.options.sync||shq.queue($.proxy(function(next_synced){Pages.hideInactive(next_synced)},this)),shq.queue($.proxy(function(next_shown){var fx=3,duration=this.view.options.effects.content.show;Window.setShowingType(this.view.type),Window.visible||(duration=this.view.options.effects.window.show,"function"===$.type(this.view.options.onShow)&&this.view.options.onShow.call(Fresco)),this.view.options.sync&&(fx++,Pages.hideInactive(function(){--fx<1&&next_shown()})),Window.show(function(){--fx<1&&next_shown()},this.view.options.effects.window.show),this._show(function(){--fx<1&&next_shown()},duration),UI.adjustPrevNext(function(){--fx<1&&next_shown()},Window._first?0:duration),Window._first?(UI.show(null,0),Window._first=!1):UI.show(null,0);var afterPosition=this.view.options.afterPosition;"function"===$.type(afterPosition)&&afterPosition.call(Fresco,this._position)},this)),shq.queue($.proxy(function(next_set_visible){this._visible=!0,callback&&callback(),next_set_visible()},this))},_show:function(callback,alternateDuration){var duration=Window.visible?"number"===$.type(alternateDuration)?alternateDuration:this.view.options.effects.content.show:0;this.element.stop(!0).show().fadeTo(duration||0,1,callback)},hide:function(callback,alternateDuration){if(!this.element)return void(callback&&callback());this.removeVideo(),this.abort();var duration="number"===$.type(alternateDuration)?alternateDuration:this.view.options.effects.content.hide;this.isVideo()&&(duration=0),this.element.stop(!0).fadeTo(duration,0,"frescoEaseInCubic",$.proxy(function(){this.element.hide(),this._visible=!1,Pages.removeTracking(this._position),callback&&callback()},this))},stop:function(){this.queues.showhide.queue([]),this.element&&this.element.stop(!0),this.abort()},removeVideo:function(){this.playerIframe&&(this.playerIframe[0].src="//about:blank",this.playerIframe.remove(),this.playerIframe=null)},remove:function(){this.stop(),this.removeVideo(),this.element&&this.element.remove(),this._track&&(Pages.removeTracking(this._position),this._track=!1),this.preloadReady&&(this.preloadReady.abort(),this.preloadReady=null,this.preloading=null,this.preloaded=null),this._visible=!1,this.removed=!0},abort:function(){this.imageReady&&(this.imageReady.abort(),this.imageReady=null),this.vimeoReady&&(this.vimeoReady.abort(),this.vimeoReady=null),this._abortSpinnerDelay(),this.loading=!1},_abortSpinnerDelay:function(){this._spinnerDelay&&(clearTimeout(this._spinnerDelay),this._spinnerDelay=null)},_getInfoHeight:function(width){var hasPosition=this.view.options.position&&this._total>1;switch(this._ui){case"fullclick":case"inside":if(!this.view.caption&&!hasPosition)return 0;break;case"outside":if(!this.view.caption)return 0}var info="inside"===this._ui?this.infoInside:this.info;"outside"===this._ui&&(width=Math.min(width,Window._boxDimensions.width));var height,oldWidth=info[0].style.width;return"inside"!==this._ui&&"fullclick"!==this._ui||(oldWidth="100%"),info.css({width:width+"px"}),height=parseFloat(info.outerHeight()),info.css({width:oldWidth}),height},_whileVisible:function(fn,extraElements){var shown=[],showElements=Window.element.add(this.element);extraElements&&(showElements=showElements.add(extraElements)),$.each(showElements,function(i,element){$(element).is(":visible")||shown.push($(element).show())});var has_nocap=this.element.hasClass("fr-no-caption");this.element.removeClass("fr-no-caption");var has_hascap=this.element.hasClass("fr-has-caption");this.element.addClass("fr-has-caption"),Window.element.css({visibility:"hidden"}),fn(),Window.element.css({visibility:"visible"}),has_nocap&&this.element.addClass("fr-no-caption"),has_hascap||this.element.removeClass("fr-has-caption"),$.each(shown,function(i,element){element.hide()})},updateForced:function(){this.create(),this._fullClick=this.view.options.fullClick,this._noOverflow=!1,parseInt(this.element.css("min-width"))>0&&(this._fullClick=!0),parseInt(this.element.css("min-height"))>0&&(this._noOverflow=!0)},updateUI:function(){this.updateForced();var ui=this._fullClick?"fullclick":this.view.options.ui;this._ui&&this.element.removeClass("fr-ui-"+this._ui),this.element.addClass("fr-ui-"+ui),this._ui=ui},fitToBox:function(){if(this.content){var bounds=(this.element,$.extend({},Window.getBoxDimensions())),dimensions=$.extend({},this.dimensions),container=this.container;this.updateUI();var padding={left:parseInt(container.css("padding-left")),top:parseInt(container.css("padding-top"))};if("outside"===this._ui&&this._positionOutside){var positionWidth=0;this._whileVisible($.proxy(function(){this._positionOutside.is(":visible")&&(positionWidth=this._positionOutside.outerWidth(!0))},this)),positionWidth>padding.left&&(padding.left=positionWidth)}bounds.width-=2*padding.left,bounds.height-=2*padding.top;var backgroundDimensions,extraShowElements,fitOptions={width:!0,height:!!this._noOverflow||!this.view.options.overflow.y},fitted=Fit.within(bounds,dimensions,fitOptions),contentDimensions=$.extend({},fitted),infoHeight=(this.content,0),isInside="inside"===this._ui,info=isInside?this.infoInside:this.info,caption=isInside?this.captionInside:this.caption,pos=isInside?this.posInside:this.pos,infoCaption=!!caption;switch(this._ui){case"outside":var preScale=$.extend({},contentDimensions);this.caption&&(extraShowElements=this.caption,this._whileVisible($.proxy(function(){for(var count=0,attempts=2;count<attempts;){infoHeight=this._getInfoHeight(contentDimensions.width);var spaceBottom=bounds.height-contentDimensions.height;spaceBottom<infoHeight&&(contentDimensions=Fit.within({width:contentDimensions.width,height:Math.max(contentDimensions.height-(infoHeight-spaceBottom),0)},contentDimensions,fitOptions)),count++}infoHeight=this._getInfoHeight(contentDimensions.width);var infoShowLimit=.5;(!this.view.options.overflow.y&&infoHeight+contentDimensions.height>bounds.height||info&&"none"===info.css("display")||infoShowLimit&&infoHeight>=infoShowLimit*contentDimensions.height)&&(infoCaption=!1,infoHeight=0,contentDimensions=preScale)},this),extraShowElements)),info&&info.css({width:contentDimensions.width+"px"}),backgroundDimensions={width:contentDimensions.width,height:contentDimensions.height+infoHeight};break;case"inside":this.caption&&(extraShowElements=caption,this._whileVisible($.proxy(function(){infoHeight=this._getInfoHeight(contentDimensions.width);var infoShowLimit=.45;infoShowLimit&&infoHeight>=infoShowLimit*contentDimensions.height&&(infoCaption=!1,infoHeight=0)},this),extraShowElements)),backgroundDimensions=contentDimensions;break;case"fullclick":var extraElements=[];caption&&extraElements.push(caption),this._whileVisible($.proxy(function(){if((caption||pos)&&info.css({width:"100%"}),infoHeight=this._getInfoHeight(Window._boxDimensions.width),caption&&infoHeight>.5*bounds.height)if(infoCaption=!1,pos){var c_disp=this.caption.is(":visible");this.caption.hide(),infoHeight=this._getInfoHeight(Window._boxDimensions.width),c_disp&&this.caption.show()}else infoHeight=0;contentDimensions=Fit.within({width:bounds.width,height:Math.max(0,bounds.height-infoHeight)},contentDimensions,fitOptions),backgroundDimensions=contentDimensions},this),extraElements),this.content.css({"padding-bottom":0})}caption&&caption[infoCaption?"show":"hide"](),this.element[(infoCaption?"remove":"add")+"Class"]("fr-no-caption"),this.element[(infoCaption?"add":"remove")+"Class"]("fr-has-caption"),this.content.css(contentDimensions),this.background.css(backgroundDimensions),this.playerIframe&&this.playerIframe.attr(contentDimensions),this.overlap={y:backgroundDimensions.height+("fullclick"===this._ui?infoHeight:0)-Window._boxDimensions.height,x:0},this._track=!this._noOverflow&&this.view.options.overflow.y&&this.overlap.y>0,this._infoHeight=infoHeight,this._padding=padding,this._contentDimensions=contentDimensions,this._backgroundDimensions=backgroundDimensions,Pages[(this._track?"set":"remove")+"Tracking"](this._position),this.position()}},position:function(){if(this.content){var contentDimensions=this._contentDimensions,backgroundDimensions=this._backgroundDimensions,contentPosition={top:.5*Window._boxDimensions.height-.5*backgroundDimensions.height,left:.5*Window._boxDimensions.width-.5*backgroundDimensions.width},infoPosition={top:contentPosition.top+contentDimensions.height,left:contentPosition.left},containerBottom=0,info="inside"===this._ui?this.infoInside:this.info;switch(this._ui){case"fullclick":contentPosition.top=.5*(Window._boxDimensions.height-this._infoHeight)-.5*backgroundDimensions.height,infoPosition={top:Window._boxDimensions.height-this._infoHeight,left:0,bottom:"auto"},containerBottom=this._infoHeight;break;case"inside":infoPosition={top:"auto",left:0,bottom:0}}if(this.overlap.y>0){var xyp=Pages.getXYP();switch(contentPosition.top=0-xyp.y*this.overlap.y,this._ui){case"outside":case"fullclick":infoPosition.top=Window._boxDimensions.height-this._infoHeight;break;case"inside":var bottom=contentPosition.top+contentDimensions.height-Window._boxDimensions.height,top=-1*contentPosition.top;if(infoPosition.bottom=bottom,this.closeInside.css({top:top}),this._total>1){var windowVisible=Window.element.is(":visible");windowVisible||Window.element.show();var pRestoreStyle=this.previousInside.attr("style");this.previousInside.removeAttr("style");var pnMarginTop=parseInt(this.previousInside.css("margin-top"));this.previousInside.attr({style:pRestoreStyle}),windowVisible||Window.element.hide();var buttons=this.previousInside.add(this.nextInside),center=.5*this.overlap.y;buttons.css({"margin-top":pnMarginTop+(top-center)}),this.positionInside&&this.positionInside.css({bottom:bottom})}}}else"inside"===this._ui&&this.element.find(".fr-info, .fr-side, .fr-close, .fr-position-inside").removeAttr("style");info&&info.css(infoPosition),this.container.css({bottom:containerBottom}),this.content.css(contentPosition),this.background.css(contentPosition)}}}),Page}(),Pages={initialize:function(element){this.element=element,this.pages=[],this.uid=1,this._tracking=[]},load:function(views){this.views=views,this.removeAll(),$.each(views,$.proxy(function(i,view){this.pages.push(new Page(view,i+1,this.views.length))},this))},show:function(position,callback){var page=this.pages[position-1];this.page&&this.page.uid===page.uid||(this.page=page,Thumbnails.show(position),Window.updateBoxDimensions(),page.show($.proxy(function(){callback&&callback()},this)))},getPositionInActivePageGroup:function(element){var position=0;return $.each(this.pages,function(i,page){page.view.element&&page.view.element===element&&(position=i+1)}),position},getLoadingCount:function(){var count=0;return $.each(this.pages,function(i,page){page.loading&&count++}),count},removeAll:function(){$.each(this.pages,function(i,page){page.remove()}),this.pages=[]},hideInactive:function(callback,alternateDuration){var _pages=[];$.each(this.pages,$.proxy(function(i,page){page.uid!==this.page.uid&&_pages.push(page)},this));var fx=0+_pages.length;return fx<1?callback&&callback():$.each(_pages,function(i,page){page.hide(function(){callback&&--fx<1&&callback()},alternateDuration)}),_pages.length},stopInactive:function(){$.each(this.pages,$.proxy(function(i,page){page.uid!==this.page.uid&&page.stop()},this))},stop:function(){$.each(this.pages,function(i,page){page.stop()})},handleTracking:function(event){Browser.IE&&Browser.IE<9?(this.setXY({x:event.pageX,y:event.pageY}),this.updatePositions()):this._tracking_timer=setTimeout($.proxy(function(){this.setXY({x:event.pageX,y:event.pageY}),this.updatePositions()},this),30)},clearTrackingTimer:function(){this._tracking_timer&&(clearTimeout(this._tracking_timer),this._tracking_timer=null)},startTracking:function(){Support.mobileTouch||this._handleTracking||$(document.documentElement).on("mousemove",this._handleTracking=$.proxy(this.handleTracking,this))},stopTracking:function(){!Support.mobileTouch&&this._handleTracking&&($(document.documentElement).off("mousemove",this._handleTracking),this._handleTracking=null,this.clearTrackingTimer())},setTracking:function(position){this.isTracking(position)||(this._tracking.push(this.pages[position-1]),1===this._tracking.length&&this.startTracking())},clearTracking:function(){this._tracking=[]},removeTracking:function(position){this._tracking=$.grep(this._tracking,function(page){return page._position!==position}),this._tracking.length<1&&this.stopTracking()},isTracking:function(position){var found=!1;return $.each(this._tracking,function(i,page){if(page._position===position)return found=!0,!1}),found},setXY:function(xy){this._xy=xy},getXYP:function(){var page=Pages.page,dimensions=$.extend({},Window._boxDimensions),xy=$.extend({},this._xy);xy.y-=$(window).scrollTop(),page&&("outside"===page._ui||"fullclick"===page._ui)&&page._infoHeight>0&&(dimensions.height-=page._infoHeight),xy.y-=Window._boxPosition.top;var xyp={x:0,y:Math.min(Math.max(xy.y/dimensions.height,0),1)},wh={x:"width",y:"height"},safety={};return $.each("y".split(" "),$.proxy(function(i,z){safety[z]=Math.min(Math.max(20/dimensions[wh[z]],0),1),xyp[z]*=1+2*safety[z],xyp[z]-=safety[z],xyp[z]=Math.min(Math.max(xyp[z],0),1)},this)),this.setXYP(xyp),this._xyp},setXYP:function(xyp){this._xyp=xyp},updatePositions:function(){this._tracking.length<1||$.each(this._tracking,function(i,page){page.position()})}};$.extend(View.prototype,{initialize:function(object){var options=arguments[1]||{},data={};if("string"===$.type(object))object={url:object};else if(object&&1===object.nodeType){var element=$(object);object={element:element[0],url:element.attr("href"),caption:element.attr("data-fresco-caption"),group:element.attr("data-fresco-group"),extension:element.attr("data-fresco-extension"),type:element.attr("data-fresco-type"),options:element.attr("data-fresco-options")&&eval("({"+element.attr("data-fresco-options")+"})")||{}}}return object&&(object.extension||(object.extension=detectExtension(object.url)),object.type||(data=getURIData(object.url),object._data=data,object.type=data.type)),object._data||(object._data=getURIData(object.url)),object&&object.options?object.options=$.extend(!0,$.extend({},options),$.extend({},object.options)):object.options=$.extend({},options),object.options=Options.create(object.options,object.type,object._data),$.extend(this,object),this}});var Spinner={supported:Support.css.transform&&Support.css.animation,initialize:function(element){this.element=$("<div>").addClass("fr-spinner").hide();for(var i=1;i<=12;i++)this.element.append($("<div>").addClass("fr-spin-"+i));this.element.on("click",$.proxy(function(){Window.hide()},this)),this.element.on("fresco:mousewheel",function(event){event.preventDefault()})},setSkin:function(skin){this.supported&&(this._skin&&this.element.removeClass("fr-spinner-skin-"+this._skin),this.updateDimensions(),this.element.addClass("fr-spinner-skin-"+skin),this._skin=skin)},updateDimensions:function(){var attached=this._attached;attached||this.attach(),this._dimensions={width:this.element.outerWidth(),height:this.element.outerHeight()},attached||this.detach()},attach:function(){this._attached||($(document.body).append(this.element),this._attached=!0)},detach:function(){this._attached&&(this.element.detach(),this._attached=!1)},show:function(callback,alternateDuration){this._visible=!0,this.attach(),this.center();var pDuration=Pages.page&&Pages.page.view.options.effects.spinner.show||0,duration=("number"===$.type(alternateDuration)?alternateDuration:pDuration)||0;this.element.stop(!0).fadeTo(duration,1,callback)},hide:function(callback,alternateDuration,position){this._visible=!1;var pDuration=Pages.page&&Pages.page.view.options.effects.spinner.hide||0,duration=("number"===$.type(alternateDuration)?alternateDuration:pDuration)||0;this.element.stop(!0).fadeOut(duration||0,$.proxy(function(){this.detach(),callback&&callback()},this))},center:function(){if(this.supported){this._dimensions||this.updateDimensions();var page=Pages.page,iH=0;page&&"fullclick"===page._ui&&page._whileVisible(function(){iH=page._getInfoHeight(Window._boxDimensions.width)}),this.element.css({top:Window._boxPosition.top+.5*Window._boxDimensions.height-.5*this._dimensions.height-.5*iH,left:Window._boxPosition.left+.5*Window._boxDimensions.width-.5*this._dimensions.width})}}},_Fresco={_disabled:!1,_fallback:!0,initialize:function(){Window.initialize(),this._disabled||this.startDelegating()},startDelegating:function(){this._delegateHandler||$(document.documentElement).on("click",".fresco[href]",this._delegateHandler=$.proxy(this.delegate,this)).on("click",this._setClickXYHandler=$.proxy(this.setClickXY,this))},stopDelegating:function(){this._delegateHandler&&($(document.documentElement).off("click",".fresco[href]",this._delegateHandler).off("click",this._setClickXYHandler),this._setClickXYHandler=null,this._delegateHandler=null)},setClickXY:function(event){Pages.setXY({x:event.pageX,y:event.pageY})},delegate:function(event){if(!this._disabled){event.stopPropagation(),event.preventDefault();var element=event.currentTarget;this.setClickXY(event),_Fresco.show(element)}},show:function(object){if(this._disabled)return void this.showFallback.apply(_Fresco,_slice.call(arguments));var options=arguments[1]||{},position=arguments[2];arguments[1]&&"number"===$.type(arguments[1])&&(position=arguments[1],options={});var views=[],object_type,isElement=_.isElement(object);switch(object_type=$.type(object)){case"string":case"object":var view=new View(object,options),_dgo="data-fresco-group-options",groupOptions={};if(view.group){if(isElement){var elements=$('.fresco[data-fresco-group="'+$(object).attr("data-fresco-group")+'"]');elements.filter("["+_dgo+"]").each(function(i,element){$.extend(groupOptions,eval("({"+($(element).attr(_dgo)||"")+"})"))}),elements.each(function(i,element){position||element!==object||(position=i+1),views.push(new View(element,$.extend({},groupOptions,options)))})}}else isElement&&$(object).is("["+_dgo+"]")&&($.extend(groupOptions,eval("({"+($(object).attr(_dgo)||"")+"})")),view=new View(object,$.extend({},groupOptions,options))),views.push(view);break;case"array":$.each(object,function(i,item){var view=new View(item,options);views.push(view)})}var groupExtend={grouped:{caption:!1}},firstUI=views[0].options.ui;$.each(views,function(i,view){view.caption&&(groupExtend.grouped.caption=!0),i>0&&view.options.ui!==firstUI&&(view.options.ui=firstUI)}),$.each(views,function(i,view){view=$.extend(view,groupExtend)}),(!position||position<1)&&(position=1),position>views.length&&(position=views.length);var positionInAPG;isElement&&(positionInAPG=Pages.getPositionInActivePageGroup(object))?Window.setPosition(positionInAPG):Window.load(views,position)},showFallback:function(){function getUrl(object){var type=$.type(object);return"string"===type?object:"array"===type&&object[0]?getUrl(object[0]):_.isElement(object)&&$(object).attr("href")?$(object).attr("href"):!!object.url&&object.url}return function(object){if(this._fallback){var url=getUrl(object);url&&(window.location.href=url)}}}()};$.extend(Fresco,{show:function(object){return _Fresco.show.apply(_Fresco,_slice.call(arguments)),this},hide:function(){return Window.hide(),this},disable:function(){return _Fresco.stopDelegating(),_Fresco._disabled=!0,this},enable:function(){return _Fresco._disabled=!1,_Fresco.startDelegating(),this},fallback:function(fallback){return _Fresco._fallback=fallback,this},setDefaultSkin:function(skin){return Options.defaults.skin=skin,this}}),(Browser.IE&&Browser.IE<7||"number"===$.type(Browser.Android)&&Browser.Android<3||Browser.MobileSafari&&"number"===$.type(Browser.WebKit)&&Browser.WebKit<533.18)&&(_Fresco.show=_Fresco.showFallback);var Thumbnails={initialize:function(element){this.element=element,this._thumbnails=[],this._orientation="vertical",this._vars={thumbnail:{},thumbnailFrame:{},thumbnails:{}},this.build(),this.startObserving()},build:function(){this.element.append(this.wrapper=$("<div>").addClass("fr-thumbnails-wrapper").append(this._slider=$("<div>").addClass("fr-thumbnails-slider").append(this._previous=$("<div>").addClass("fr-thumbnails-side fr-thumbnails-side-previous").append(this._previous_button=$("<div>").addClass("fr-thumbnails-side-button").append($("<div>").addClass("fr-thumbnails-side-button-background")).append($("<div>").addClass("fr-thumbnails-side-button-icon")))).append(this._thumbs=$("<div>").addClass("fr-thumbnails-thumbs").append(this._slide=$("<div>").addClass("fr-thumbnails-slide"))).append(this._next=$("<div>").addClass("fr-thumbnails-side fr-thumbnails-side-next").append(this._next_button=$("<div>").addClass("fr-thumbnails-side-button").append($("<div>").addClass("fr-thumbnails-side-button-background")).append($("<div>").addClass("fr-thumbnails-side-button-icon"))))))},startObserving:function(){this._slider.delegate(".fr-thumbnail","click",$.proxy(function(event){event.stopPropagation();var thumbnail=$(event.target).closest(".fr-thumbnail")[0],position=thumbnail&&$(thumbnail).data("fr-position");position&&(this.setActive(position),Window.setPosition(position))},this)),this._slider.bind("click",function(event){event.stopPropagation()}),this._previous.bind("click",$.proxy(this.previousPage,this)),this._next.bind("click",$.proxy(this.nextPage,this))},load:function(views){this.clear();var orientation="horizontal",disabled=!1;$.each(views,$.proxy(function(i,view){"vertical"===view.options.thumbnails&&(orientation="vertical"),view.options.thumbnails||(disabled=!0)},this)),this.setOrientation(orientation),this._disabledGroup=disabled,$.each(views,$.proxy(function(i,view){this._thumbnails.push(new Thumbnail(view,i+1))},this)),this.fitToViewport()},clear:function(){$.each(this._thumbnails,function(i,thumbnail){thumbnail.remove()}),this._thumbnails=[],this._position=-1,this._page=-1},setOrientation:function(orientation){this._orientation&&Window.element.removeClass("fr-thumbnails-"+this._orientation),Window.element.addClass("fr-thumbnails-"+orientation),this._orientation=orientation},disable:function(){Window.element.removeClass("fr-thumbnails-enabled").addClass("fr-thumbnails-disabled"),this._disabled=!0},enable:function(){Window.element.removeClass("fr-thumbnails-disabled").addClass("fr-thumbnails-enabled"),this._disabled=!1},enabled:function(){return!this._disabled},disabled:function(){return this._disabled},updateVars:function(){var win=Window.element,vars=this._vars,orientation=this._orientation,isHorizontal="horizontal"===orientation,_top=isHorizontal?"top":"left",_left=isHorizontal?"left":"top",_mbottom=isHorizontal?"bottom":"left",_mtop=isHorizontal?"top":"right",_width=isHorizontal?"width":"height",_height=isHorizontal?"height":"width",_swapZ={left:"right",right:"left",top:"bottom",bottom:"top"};this.element.removeClass("fr-thumbnails-measured");var w_vis=win.is(":visible");if(w_vis||win.show(),this.disabled()&&this.enable(),!this.element.is(":visible")||this._thumbnails.length<2||this._disabledGroup)return this.disable(),$.extend(this._vars.thumbnails,{width:0,height:0}),w_vis||win.hide(),void this.element.addClass("fr-thumbnails-measured");this.enable();var previous=this._previous,next=this._next,viewport=Bounds.viewport(),height=this.element["inner"+_.String.capitalize(_height)](),paddingTop=parseInt(this._thumbs.css("padding-"+_top))||0,thumbnailHeight=Math.max(height-2*paddingTop,0),paddingLeft=parseInt(this._thumbs.css("padding-"+_left))||0,marginTotal=(parseInt(this.element.css("margin-"+_mbottom))||0)+(parseInt(this.element.css("margin-"+_mtop))||0);$.extend(vars.thumbnails,{height:height+marginTotal,width:viewport[isHorizontal?"width":"height"],paddingTop:paddingTop}),$.extend(vars.thumbnail,{height:thumbnailHeight,width:thumbnailHeight}),$.extend(vars.thumbnailFrame,{width:thumbnailHeight+2*paddingLeft,height:height}),vars.sides={previous:{width:next["inner"+_.String.capitalize(_width)](),marginLeft:parseInt(previous.css("margin-"+_left))||0,marginRight:parseInt(previous.css("margin-"+_swapZ[_left]))||0},next:{width:next["inner"+_.String.capitalize(_width)](),marginLeft:parseInt(next.css("margin-"+_left))||0,marginRight:parseInt(next.css("margin-"+_swapZ[_left]))||0}};var viewportWidth=viewport[_width],thumbnailOuterWidth=vars.thumbnailFrame.width,thumbs=this._thumbnails.length;vars.thumbnails.width=viewportWidth,vars.sides.enabled=thumbs*thumbnailOuterWidth/viewportWidth>1;var thumbsWidth=viewportWidth,vs=vars.sides,vsPrevious=vs.previous,vsNext=vs.next,sidesWidth=vsPrevious.marginLeft+vsPrevious.width+vsPrevious.marginRight+vsNext.marginLeft+vsNext.width+vsNext.marginRight;vars.sides.enabled&&(thumbsWidth-=sidesWidth),thumbsWidth=Math.floor(thumbsWidth/thumbnailOuterWidth)*thumbnailOuterWidth;var totalThumbsWidth=thumbs*thumbnailOuterWidth;totalThumbsWidth<thumbsWidth&&(thumbsWidth=totalThumbsWidth);var wrapperWidth=thumbsWidth+(vars.sides.enabled?sidesWidth:0);vars.ipp=Math.round(thumbsWidth/thumbnailOuterWidth),this._mode="page",vars.ipp<=1&&(thumbsWidth=viewportWidth,wrapperWidth=viewportWidth,vars.sides.enabled=!1,this._mode="center"),vars.pages=Math.ceil(thumbs*thumbnailOuterWidth/thumbsWidth),vars.wrapper={width:wrapperWidth+1,height:height},vars.thumbs={width:thumbsWidth,height:height},vars.slide={width:thumbs*thumbnailOuterWidth+1,height:height},w_vis||win.hide(),this.element.addClass("fr-thumbnails-measured")},hide:function(){this.disable(),this.thumbnails.hide(),this._visible=!1},getDimensions:function(){var isHorizontal="horizontal"===this._orientation;return{width:isHorizontal?this._vars.thumbnails.width:this._vars.thumbnails.height,height:isHorizontal?this._vars.thumbnails.height:this._vars.thumbnails.width}},fitToViewport:function(){if(this.updateVars(),!this.disabled()){var vars=$.extend({},this._vars),isHorizontal="horizontal"===this._orientation;$.each(this._thumbnails,function(i,thumbnail){thumbnail.resize()}),this._previous[vars.sides.enabled?"show":"hide"](),this._next[vars.sides.enabled?"show":"hide"](),this._thumbs.css({width:vars.thumbs[isHorizontal?"width":"height"],height:vars.thumbs[isHorizontal?"height":"width"]}),this._slide.css({width:vars.slide[isHorizontal?"width":"height"],height:vars.slide[isHorizontal?"height":"width"]});var wrapperCSS={width:vars.wrapper[isHorizontal?"width":"height"],height:vars.wrapper[isHorizontal?"height":"width"]};wrapperCSS["margin-"+(isHorizontal?"left":"top")]=Math.round(-.5*vars.wrapper.width)+"px",wrapperCSS["margin-"+(isHorizontal?"top":"left")]=0,this.wrapper.css(wrapperCSS),this._position&&this.moveTo(this._position,!0)}},moveToPage:function(page){if(!(page<1||page>this._vars.pages||page===this._page)){var position=this._vars.ipp*(page-1)+1;this.moveTo(position)}},previousPage:function(){this.moveToPage(this._page-1)},nextPage:function(){this.moveToPage(this._page+1)},show:function(position){var instant=this._position<0;position<1&&(position=1);var ic=this._thumbnails.length;position>ic&&(position=ic),this._position=position,this.setActive(position),"page"===this._mode&&this._page===Math.ceil(position/this._vars.ipp)||this.moveTo(position,instant)},moveTo:function(position,instant){if(this.updateVars(),!this.disabled()){var left,page,isHorizontal="horizontal"===this._orientation,vp_z=Bounds.viewport()[isHorizontal?"width":"height"],vp_center=.5*vp_z,t_width=this._vars.thumbnailFrame.width;if("page"===this._mode){page=Math.ceil(position/this._vars.ipp),this._page=page,left=t_width*(this._page-1)*this._vars.ipp*-1;var disabled="fr-thumbnails-side-button-disabled";this._previous_button[(page<2?"add":"remove")+"Class"](disabled),this._next_button[(page>=this._vars.pages?"add":"remove")+"Class"](disabled)}else left=vp_center+-1*(t_width*(position-1)+.5*t_width);page=Pages.page;var resetCSS={},animateCSS={};resetCSS[isHorizontal?"top":"left"]=0,animateCSS[isHorizontal?"left":"top"]=left+"px",this._slide.stop(!0).css(resetCSS).animate(animateCSS,instant?0:page?page.view.options.effects.thumbnails.slide||0:0,$.proxy(function(){this.loadCurrentPage()},this))}},loadCurrentPage:function(){var min,max;if(this._position&&this._vars.thumbnailFrame.width&&!(this._thumbnails.length<1)){if("page"===this._mode){if(this._page<1)return;min=(this._page-1)*this._vars.ipp+1,max=Math.min(min-1+this._vars.ipp,this._thumbnails.length)}else{var thumbnail_count=Math.ceil(this._vars.thumbnails.width/this._vars.thumbnailFrame.width);min=Math.max(Math.floor(Math.max(this._position-.5*thumbnail_count,0)),1),max=Math.ceil(Math.min(this._position+.5*thumbnail_count)),this._thumbnails.length<max&&(max=this._thumbnails.length)}for(var i=min;i<=max;i++)this._thumbnails[i-1].load()}},setActive:function(position){this._slide.find(".fr-thumbnail-active").removeClass("fr-thumbnail-active");var thumbnail=position&&this._thumbnails[position-1];thumbnail&&thumbnail.activate()},refresh:function(){this._position&&this.setPosition(this._position)}};$.extend(Thumbnail.prototype,{initialize:function(view,position){this.view=view,this._position=position,this.preBuild()},preBuild:function(){this.thumbnail=$("<div>").addClass("fr-thumbnail").data("fr-position",this._position)},build:function(){if(!this.thumbnailFrame){var options=this.view.options;Thumbnails._slide.append(this.thumbnailFrame=$("<div>").addClass("fr-thumbnail-frame").append(this.thumbnail.append(this.thumbnailWrapper=$("<div>").addClass("fr-thumbnail-wrapper")))),"image"===this.view.type&&this.thumbnail.addClass("fr-load-thumbnail").data("thumbnail",{view:this.view,src:options.thumbnail||this.view.url});var icon=options.thumbnail&&options.thumbnail.icon;icon&&this.thumbnail.append($("<div>").addClass("fr-thumbnail-icon fr-thumbnail-icon-"+icon));this.thumbnail.append($("<div>").addClass("fr-thumbnail-overlay").append($("<div>").addClass("fr-thumbnail-overlay-background")).append(this.loading=$("<div>").addClass("fr-thumbnail-loading").append($("<div>").addClass("fr-thumbnail-loading-background")).append(this.spinner=$("<div>").addClass("fr-thumbnail-spinner").hide().append($("<div>").addClass("fr-thumbnail-spinner-spin")))).append($("<div>").addClass("fr-thumbnail-overlay-border"))),this.thumbnail.append($("<div>").addClass("fr-thumbnail-state")),this.resize()}},remove:function(){this.thumbnailFrame&&(this.thumbnailFrame.remove(),this.thumbnailFrame=null,this.image=null),this.ready&&(this.ready.abort(),this.ready=null),this.vimeoThumbnail&&(this.vimeoThumbnail.abort(),this.vimeoThumbnail=null),this._loading=!1,this._removed=!0,this.view=null,this._clearDelay()},load:function(){if(!(this._loaded||this._loading||this._removed)){this.thumbnailWrapper||this.build(),this._loading=!0;var thumbnail=this.view.options.thumbnail,url=thumbnail&&"boolean"===$.type(thumbnail)?this.view.url:thumbnail||this.view.url;if(this._url=url,url)if("vimeo"===this.view.type)if(url===thumbnail)this._url=url,this._load(this._url);else switch(this.view.type){case"vimeo":this.vimeoThumbnail=new VimeoThumbnail(this.view.url,$.proxy(function(url){this._url=url,this._load(url)},this),$.proxy(function(){this._error()},this))}else this._load(this._url)}},activate:function(){this.thumbnail.addClass("fr-thumbnail-active")},_load:function(url){this.thumbnailWrapper.prepend(this.image=$("<img>").addClass("fr-thumbnail-image").attr({src:url}).css({opacity:1e-4})),this.fadeInSpinner(),this.ready=new ImageReady(this.image[0],$.proxy(function(imageready){var img=imageready.img;this.thumbnailFrame&&this._loading&&(this._loaded=!0,this._loading=!1,this._dimensions={width:img.naturalWidth,height:img.naturalHeight},this.resize(),this.show())},this),$.proxy(function(){this._error()},this),{method:this.view.options.loadedMethod})},_error:function(){this._loaded=!0,this._loading=!1,this.thumbnail.addClass("fr-thumbnail-error"),this.image&&this.image.hide(),this.thumbnailWrapper.append($("<div>").addClass("fr-thumbnail-image")),this.show()},fadeInSpinner:function(){if(Spinner.supported&&this.view.options.spinner){this._clearDelay();var fx=this.view.options.effects.thumbnail;this._delay=setTimeout($.proxy(function(){this.spinner.stop(!0).fadeTo(fx.show||0,1)},this),this.view.options.spinnerDelay||0)}},show:function(){this._clearDelay();var fx=this.view.options.effects.thumbnail;this.loading.stop(!0).delay(fx.delay).fadeTo(fx.show,0)},_clearDelay:function(){this._delay&&(clearTimeout(this._delay),this._delay=null)},resize:function(){if(this.thumbnailFrame){var isHorizontal="horizontal"===Thumbnails._orientation;if(this.thumbnailFrame.css({width:Thumbnails._vars.thumbnailFrame[isHorizontal?"width":"height"],height:Thumbnails._vars.thumbnailFrame[isHorizontal?"height":"width"]}),this.thumbnailFrame.css({top:isHorizontal?0:Thumbnails._vars.thumbnailFrame.width*(this._position-1),left:isHorizontal?Thumbnails._vars.thumbnailFrame.width*(this._position-1):0}),this.thumbnailWrapper){var thumbnail=Thumbnails._vars.thumbnail;if(this.thumbnail.css({width:thumbnail.width,height:thumbnail.height,"margin-top":Math.round(-.5*thumbnail.height),"margin-left":Math.round(-.5*thumbnail.width),"margin-bottom":0,"margin-right":0}),this._dimensions){var dimensions,bounds={width:thumbnail.width,height:thumbnail.height},maxZ=Math.max(bounds.width,bounds.height),image=$.extend({},this._dimensions);if(image.width>bounds.width&&image.height>bounds.height){dimensions=Fit.within(bounds,image);var scaleX=1,scaleY=1;dimensions.width<bounds.width&&(scaleX=bounds.width/dimensions.width),dimensions.height<bounds.height&&(scaleY=bounds.height/dimensions.height);var scale=Math.max(scaleX,scaleY);scale>1&&(dimensions.width*=scale,dimensions.height*=scale),$.each("width height".split(" "),function(i,z){dimensions[z]=Math.round(dimensions[z])})}else dimensions=Fit.within(this._dimensions,image.width<bounds.width||image.height<bounds.height?{width:maxZ,height:maxZ}:bounds);var x=Math.round(.5*bounds.width-.5*dimensions.width),y=Math.round(.5*bounds.height-.5*dimensions.height);this.image.removeAttr("style").css($.extend({},dimensions,{top:y,left:x}))}}}}});var UI={_modes:["fullclick","outside","inside"],_ui:!1,_validClickTargetSelector:[".fr-content-element",".fr-content",".fr-content > .fr-stroke",".fr-content > .fr-stroke .fr-stroke-color"].join(", "),initialize:function(element){$.each(this._modes,$.proxy(function(i,mode){this[mode].initialize()},this)),Window.element.addClass("fr-ui-inside-hidden fr-ui-fullclick-hidden")},set:function(ui){this._ui&&(Window.element.removeClass("fr-window-ui-"+this._ui),Overlay.element.removeClass("fr-overlay-ui-"+this._ui)),Window.element.addClass("fr-window-ui-"+ui),Overlay.element.addClass("fr-overlay-ui-"+ui),this._enabled&&this._ui&&this._ui!==ui&&(this[this._ui].disable(),this[ui].enable(),UI[ui].show()),this._ui=ui},_onWindowResize:function(){Support.mobileTouch&&this.show()},enable:function(){$.each(this._modes,$.proxy(function(i,mode){UI[mode][mode===this._ui?"enable":"disable"]()},this)),this._enabled=!0},disable:function(){$.each(this._modes,$.proxy(function(i,mode){UI[mode].disable()},this)),this._enabled=!1},adjustPrevNext:function(callback,alternateDuration){UI[this._ui].adjustPrevNext(callback,alternateDuration)},show:function(callback,alternateDuration){UI[this._ui].show(callback,alternateDuration)},hide:function(callback,alternateDuration){UI[this._ui].hide(callback,alternateDuration)},reset:function(){$.each(this._modes,$.proxy(function(i,mode){UI[mode].reset()},this))},update:function(){var page=Pages.page;page&&this.set(page._ui)}};return UI.fullclick={initialize:function(){this.build(),this._scrollLeft=-1},build:function(){Window._box.append(this._previous=$("<div>").addClass("fr-side fr-side-previous fr-side-previous-fullclick fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._next=$("<div>").addClass("fr-side fr-side-next fr-side-next-fullclick fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._close=$("<div>").addClass("fr-close fr-close-fullclick").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).hide(),this._close.on("click",$.proxy(function(event){event.preventDefault(),Window.hide()},this)),this._previous.on("click",$.proxy(function(event){Window.previous(),this._onMouseMove(event)},this)),this._next.on("click",$.proxy(function(event){Window.next(),this._onMouseMove(event)},this))},enable:function(){this.bind()},disable:function(){this.unbind()},reset:function(){Window.timers.clear("ui-fullclick"),this._x=-1,this._y=-1,this._scrollLeft=-1,this.resetPrevNext(),this._onMouseLeave()},resetPrevNext:function(){this._previous.add(this._next).stop(!0).removeAttr("style")},bind:function(){this._onMouseUpHandler||(this.unbind(),Window._pages.on("mouseup",".fr-container",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Support.mobileTouch||(Window.element.on("mouseenter",this._showHandler=$.proxy(this.show,this)).on("mouseleave",this._hideHandler=$.proxy(this.hide,this)),Window.element.on("mousemove",this._mousemoveHandler=$.proxy(function(event){var x=event.pageX,y=event.pageY;this._hoveringSideButton||y===this._y&&x===this._x||(this._x=x,this._y=y,this.show(),this.startTimer())},this)),Window._pages.on("mousemove",".fr-container",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-container",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-container",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window._pages.off("mouseup",".fr-container",this._onMouseUpHandler),this._onMouseUpHandler=null,this._showHandler&&(Window.element.off("mouseenter",this._showHandler).off("mouseleave",this._hideHandler).off("mousemove",this._mousemoveHandler),Window._pages.off("mousemove",".fr-container",this._onMouseMoveHandler).off("mouseleave",".fr-container",this._onMouseLeaveHandler).off("mouseenter",".fr-container",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._showHandler=null))},adjustPrevNext:function(callback,alternateDuration){var page=Pages.page;if(!page)return void(callback&&callback());var windowVisible=Window.element.is(":visible");windowVisible||Window.element.show();var pRestoreStyle=this._previous.attr("style");this._previous.removeAttr("style");var pnMarginTop=parseInt(this._previous.css("margin-top"));this._previous.attr({style:pRestoreStyle}),windowVisible||Window.element.hide();var iH=page._infoHeight||0,buttons=this._previous.add(this._next),css={"margin-top":pnMarginTop-.5*iH},duration="number"===$.type(alternateDuration)?alternateDuration:Pages.page&&Pages.page.view.options.effects.content.show||0;this.opening&&(duration=0),buttons.stop(!0).animate(css,duration,callback),this._previous[(Window.mayPrevious()?"remove":"add")+"Class"]("fr-side-disabled"),this._next[(Window.mayNext()?"remove":"add")+"Class"]("fr-side-disabled"),buttons[(page._total<2?"add":"remove")+"Class"]("fr-side-hidden"),callback&&callback()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_onMouseMove:function(event){if(!Support.mobileTouch){var side=this._getEventSide(event),Side=_.String.capitalize(side),mayClickHoveringSide=!!side&&Window["may"+Side]();if(side!==this._hoveringSide||mayClickHoveringSide!==this._mayClickHoveringSide)switch(this._hoveringSide=side,this._mayClickHoveringSide=mayClickHoveringSide,Window._box[(mayClickHoveringSide?"add":"remove")+"Class"]("fr-hovering-clickable"),side){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}}},_onMouseLeave:function(event){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(event){if(!(event.which>1)){if(1===Pages.pages.length)return void Window.hide();var side=this._getEventSide(event);Window[side](),this._onMouseMove(event)}},_onMouseEnter:function(event){this._onMouseMove(event)},_getEventSide:function(event){this._scrollLeft>-1?this._scrollLeft:this._scrollLeft=$(window).scrollLeft();return event.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},_onSideMouseEnter:function(event){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(event),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)](),this.clearTimer()},_onSideMouseLeave:function(event){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1,this.startTimer()},show:function(callback){if(this._visible)return this.startTimer(),void("function"===$.type(callback)&&callback());this._visible=!0,this.startTimer(),Window.element.addClass("fr-visible-fullclick-ui").removeClass("fr-hidden-fullclick-ui"),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).show(),"function"===$.type(callback)&&callback()},hide:function(callback){var type=Pages.page&&Pages.page.view.type;if(!this._visible||type&&("youtube"===type||"vimeo"===type))return void("function"===$.type(callback)&&callback());this._visible=!1,Window.element.removeClass("fr-visible-fullclick-ui").addClass("fr-hidden-fullclick-ui"),"function"===$.type(callback)&&callback()},clearTimer:function(){Support.mobileTouch||Window.timers.clear("ui-fullclick")},startTimer:function(){Support.mobileTouch||(this.clearTimer(),Window.timers.set("ui-fullclick",$.proxy(function(){this.hide()},this),Window.view?Window.view.options.uiDelay:0))}},UI.inside={initialize:function(){},enable:function(){this.bind()},disable:function(){this.unbind()},bind:function(){this._onMouseUpHandler||(this.unbind(),Window._pages.on("mouseup",".fr-content",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Window._pages.on("click",".fr-content .fr-close",$.proxy(function(event){event.preventDefault(),Window.hide()},this)).on("click",".fr-content .fr-side-previous",$.proxy(function(event){Window.previous(),this._onMouseMove(event)},this)).on("click",".fr-content .fr-side-next",$.proxy(function(event){Window.next(),this._onMouseMove(event)},this)),Window.element.on("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler=$.proxy(this._delegateOverlayClose,this)),Support.mobileTouch||(Window.element.on("mouseenter",".fr-content",this._showHandler=$.proxy(this.show,this)).on("mouseleave",".fr-content",this._hideHandler=$.proxy(this.hide,this)),Window.element.on("mousemove",".fr-content",this._mousemoveHandler=$.proxy(function(event){var x=event.pageX,y=event.pageY;this._hoveringSideButton||y===this._y&&x===this._x||(this._x=x,this._y=y,this.show(),this.startTimer())},this)),Window._pages.on("mousemove",".fr-info, .fr-close",$.proxy(function(event){event.stopPropagation(),this._onMouseLeave(event)},this)),Window._pages.on("mousemove",".fr-info",$.proxy(function(){this.clearTimer()},this)),Window._pages.on("mousemove",".fr-content",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-content",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-content",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window._pages.off("mouseup",".fr-content",this._onMouseUpHandler),this._onMouseUpHandler=null,Window._pages.off("click",".fr-content .fr-close").off("click",".fr-content .fr-side-previous").off("click",".fr-content .fr-side-next"),Window.element.off("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler),this._showHandler&&(Window.element.off("mouseenter",".fr-content",this._showHandler).off("mouseleave",".fr-content",this._hideHandler).off("mousemove",".fr-content",this._mousemoveHandler),Window._pages.off("mousemove",".fr-info, .fr-close"),Window._pages.off("mousemove",".fr-info"),Window._pages.off("mousemove",".fr-content-element",this._onMouseMoveHandler).off("mouseleave",".fr-content",this._onMouseLeaveHandler).off("mouseenter",".fr-content",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._showHandler=null))},reset:function(){Window.timers.clear("ui-fullclick"),this._x=-1,this._y=-1,this._scrollLeft=-1,this._hoveringSide=!1,this._onMouseLeave()},adjustPrevNext:function(callback){callback&&callback()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_delegateOverlayClose:function(event){var page=Pages.page;page&&page.view.options.overlay&&!page.view.options.overlay.close||$(event.target).is(".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper")&&(event.preventDefault(),event.stopPropagation(),Window.hide())},_onMouseMove:function(event){if(!Support.mobileTouch){var side=this._getEventSide(event),Side=_.String.capitalize(side),mayClickHoveringSide=!!side&&Window["may"+Side]();if((1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick)&&(side=!1),side!==this._hoveringSide||mayClickHoveringSide!==this._mayClickHoveringSide)if(this._hoveringSide=side,this._mayClickHoveringSide=mayClickHoveringSide,side)switch(Window._box[(mayClickHoveringSide?"add":"remove")+"Class"]("fr-hovering-clickable"),side){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}else Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next")}},_onMouseLeave:function(event){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(event){if(!(event.which>1)&&$(event.target).is(UI._validClickTargetSelector)){if(1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick)return void Window.hide();var side=this._getEventSide(event);Window[side](),this._onMouseMove(event)}},_onMouseEnter:function(event){this._onMouseMove(event)},_getEventSide:function(event){this._scrollLeft>-1?this._scrollLeft:this._scrollLeft=$(window).scrollLeft();return event.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},_onSideMouseEnter:function(event){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(event),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)](),this.clearTimer()},_onSideMouseLeave:function(event){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1,this.startTimer()},show:function(callback){if(this._visible)return this.startTimer(),void("function"===$.type(callback)&&callback());this._visible=!0,this.startTimer(),Window.element.addClass("fr-visible-inside-ui").removeClass("fr-hidden-inside-ui"),"function"===$.type(callback)&&callback()},hide:function(callback){if(!this._visible)return void("function"===$.type(callback)&&callback());this._visible=!1,Window.element.removeClass("fr-visible-inside-ui").addClass("fr-hidden-inside-ui"),"function"===$.type(callback)&&callback()},clearTimer:function(){Support.mobileTouch||Window.timers.clear("ui-inside")},startTimer:function(){Support.mobileTouch||(this.clearTimer(),Window.timers.set("ui-inside",$.proxy(function(){this.hide()},this),Window.view?Window.view.options.uiDelay:0))}},UI.outside={initialize:function(){this.build(),this._scrollLeft=-1},build:function(){Window._box.append(this._previous=$("<div>").addClass("fr-side fr-side-previous fr-side-previous-outside").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._next=$("<div>").addClass("fr-side fr-side-next fr-side-next-outside").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._close=$("<div>").addClass("fr-close fr-close-outside").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).hide(),this._close.on("click",$.proxy(function(event){event.preventDefault(),Window.hide()},this)),this._previous.on("click",$.proxy(function(event){Window.previous(),this._onMouseMove(event)},this)),this._next.on("click",$.proxy(function(event){Window.next(),this._onMouseMove(event)},this))},enable:function(){this.bind()},disable:function(){this.unbind()},reset:function(){Window.timers.clear("ui-outside"),this._x=-1,this._y=-1,this._scrollLeft=-1,this._onMouseLeave()},bind:function(){this._onMouseUpHandler||(this.unbind(),Window.element.on("mouseup",".fr-content",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Window.element.on("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler=$.proxy(this._delegateOverlayClose,this)),Support.mobileTouch||(Window._pages.on("mousemove",".fr-content",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-content",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-content",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window.element.off("mouseup",".fr-content",this._onMouseUpHandler),this._onMouseUpHandler=null,Window.element.off("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler),this._onMouseMoveHandler&&(Window._pages.off("mousemove",".fr-content",this._onMouseMoveHandler).off("mouseleave",".fr-content",this._onMouseLeaveHandler).off("mouseenter",".fr-content",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._onMouseMoveHandler=null))},adjustPrevNext:function(callback,alternateDuration){var page=Pages.page;if(!page)return void(callback&&callback());var buttons=this._previous.add(this._next);this._previous[(Window.mayPrevious()?"remove":"add")+"Class"]("fr-side-disabled"),this._next[(Window.mayNext()?"remove":"add")+"Class"]("fr-side-disabled"),buttons[(page._total<2?"add":"remove")+"Class"]("fr-side-hidden"),callback&&callback()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_delegateOverlayClose:function(event){var page=Pages.page;page&&page.view.options.overlay&&!page.view.options.overlay.close||$(event.target).is(".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper")&&(event.preventDefault(),event.stopPropagation(),Window.hide())},_onMouseMove:function(event){if(!Support.mobileTouch){var side=this._getEventSide(event),Side=_.String.capitalize(side),mayClickHoveringSide=!!side&&Window["may"+Side]();if((1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick)&&(side=!1),side!==this._hoveringSide||mayClickHoveringSide!==this._mayClickHoveringSide)if(this._hoveringSide=side,this._mayClickHoveringSide=mayClickHoveringSide,side)switch(Window._box[(mayClickHoveringSide?"add":"remove")+"Class"]("fr-hovering-clickable"),side){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}else Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next")}},_onMouseLeave:function(event){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(event){if(!(event.which>1)&&$(event.target).is(UI._validClickTargetSelector)){if(1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick)return void Window.hide();var side=this._getEventSide(event);Window[side](),this._onMouseMove(event)}},_onMouseEnter:function(event){this._onMouseMove(event)},_getEventSide:function(event){this._scrollLeft>-1?this._scrollLeft:this._scrollLeft=$(window).scrollLeft();return event.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},show:function(){Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).show()},hide:function(){},_onSideMouseEnter:function(event){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(event),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)]()},_onSideMouseLeave:function(event){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1},clearTimer:function(){}},$(document).ready(function(event){_Fresco.initialize()}),Fresco}),function($,window,document,undefined){function Owl(element,options){this.settings=null,this.options=$.extend({},Owl.Defaults,options),this.$element=$(element),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},$.each(["onResize","onThrottledResize"],$.proxy(function(i,handler){this._handlers[handler]=$.proxy(this[handler],this)},this)),$.each(Owl.Plugins,$.proxy(function(key,plugin){this._plugins[key.charAt(0).toLowerCase()+key.slice(1)]=new plugin(this)},this)),$.each(Owl.Workers,$.proxy(function(priority,worker){this._pipe.push({filter:worker.filter,run:$.proxy(worker.run,this)})},this)),this.setup(),this.initialize()}Owl.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:window,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},Owl.Width={Default:"default",Inner:"inner",Outer:"outer"},Owl.Type={Event:"event",State:"state"},Owl.Plugins={},Owl.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(cache){cache.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(cache){var margin=this.settings.margin||"",grid=!this.settings.autoWidth,rtl=this.settings.rtl,css={width:"auto","margin-left":rtl?margin:"","margin-right":rtl?"":margin};!grid&&this.$stage.children().css(css),cache.css=css}},{filter:["width","items","settings"],run:function(cache){var width=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,merge=null,iterator=this._items.length,grid=!this.settings.autoWidth,widths=[];for(cache.items={merge:!1,width:width};iterator--;)merge=this._mergers[iterator],merge=this.settings.mergeFit&&Math.min(merge,this.settings.items)||merge,cache.items.merge=merge>1||cache.items.merge,widths[iterator]=grid?width*merge:this._items[iterator].width();this._widths=widths}},{filter:["items","settings"],run:function(){var clones=[],items=this._items,settings=this.settings,view=Math.max(2*settings.items,4),size=2*Math.ceil(items.length/2),repeat=settings.loop&&items.length?settings.rewind?view:Math.max(view,size):0,append="",prepend="";for(repeat/=2;repeat>0;)clones.push(this.normalize(clones.length/2,!0)),append+=items[clones[clones.length-1]][0].outerHTML,clones.push(this.normalize(items.length-1-(clones.length-1)/2,!0)),prepend=items[clones[clones.length-1]][0].outerHTML+prepend,repeat-=1;this._clones=clones,$(append).addClass("cloned").appendTo(this.$stage),$(prepend).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var rtl=this.settings.rtl?1:-1,size=this._clones.length+this._items.length,iterator=-1,previous=0,current=0,coordinates=[];++iterator<size;)previous=coordinates[iterator-1]||0,current=this._widths[this.relative(iterator)]+this.settings.margin,coordinates.push(previous+current*rtl);this._coordinates=coordinates}},{filter:["width","items","settings"],run:function(){var padding=this.settings.stagePadding,coordinates=this._coordinates,css={width:Math.ceil(Math.abs(coordinates[coordinates.length-1]))+2*padding,"padding-left":padding||"","padding-right":padding||""};this.$stage.css(css)}},{filter:["width","items","settings"],run:function(cache){var iterator=this._coordinates.length,grid=!this.settings.autoWidth,items=this.$stage.children();if(grid&&cache.items.merge)for(;iterator--;)cache.css.width=this._widths[this.relative(iterator)],items.eq(iterator).css(cache.css);else grid&&(cache.css.width=cache.items.width,items.css(cache.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(cache){cache.current=cache.current?this.$stage.children().index(cache.current):0,cache.current=Math.max(this.minimum(),Math.min(this.maximum(),cache.current)),this.reset(cache.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var inner,outer,i,n,rtl=this.settings.rtl?1:-1,padding=2*this.settings.stagePadding,begin=this.coordinates(this.current())+padding,end=begin+this.width()*rtl,matches=[];for(i=0,n=this._coordinates.length;i<n;i++)inner=this._coordinates[i-1]||0,outer=Math.abs(this._coordinates[i])+padding*rtl,(this.op(inner,"<=",begin)&&this.op(inner,">",end)||this.op(outer,"<",begin)&&this.op(outer,">",end))&&matches.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+matches.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],Owl.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=$("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap($("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},Owl.prototype.initializeItems=function(){var $items=this.$element.find(".owl-item");if($items.length)return this._items=$items.get().map(function(item){return $(item)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},Owl.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var imgs,nestedSelector,width;imgs=this.$element.find("img"),nestedSelector=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:undefined,width=this.$element.children(nestedSelector).width(),imgs.length&&width<=0&&this.preloadAutoWidthImages(imgs)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},Owl.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},Owl.prototype.setup=function(){var viewport=this.viewport(),overwrites=this.options.responsive,match=-1,settings=null;overwrites?($.each(overwrites,function(breakpoint){breakpoint<=viewport&&breakpoint>match&&(match=Number(breakpoint))}),settings=$.extend({},this.options,overwrites[match]),"function"==typeof settings.stagePadding&&(settings.stagePadding=settings.stagePadding()),delete settings.responsive,settings.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+match))):settings=$.extend({},this.options),this.trigger("change",{property:{name:"settings",value:settings}}),this._breakpoint=match,this.settings=settings,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},Owl.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},Owl.prototype.prepare=function(item){var event=this.trigger("prepare",{content:item});return event.data||(event.data=$("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(item)),this.trigger("prepared",{content:event.data}),event.data},Owl.prototype.update=function(){for(var i=0,n=this._pipe.length,filter=$.proxy(function(p){return this[p]},this._invalidated),cache={};i<n;)(this._invalidated.all||$.grep(this._pipe[i].filter,filter).length>0)&&this._pipe[i].run(cache),i++;this._invalidated={},!this.is("valid")&&this.enter("valid")},Owl.prototype.width=function(dimension){switch(dimension=dimension||Owl.Width.Default){case Owl.Width.Inner:case Owl.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},Owl.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},Owl.prototype.onThrottledResize=function(){window.clearTimeout(this.resizeTimer),this.resizeTimer=window.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},Owl.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},Owl.prototype.registerEventHandlers=function(){$.support.transition&&this.$stage.on($.support.transition.end+".owl.core",$.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(window,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",$.proxy(this.onDragEnd,this)))},Owl.prototype.onDragStart=function(event){var stage=null;3!==event.which&&($.support.transform?(stage=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),stage={x:stage[16===stage.length?12:4],y:stage[16===stage.length?13:5]}):(stage=this.$stage.position(),stage={x:this.settings.rtl?stage.left+this.$stage.width()-this.width()+this.settings.margin:stage.left,y:stage.top}),this.is("animating")&&($.support.transform?this.animate(stage.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===event.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=$(event.target),this._drag.stage.start=stage,this._drag.stage.current=stage,this._drag.pointer=this.pointer(event),$(document).on("mouseup.owl.core touchend.owl.core",$.proxy(this.onDragEnd,this)),$(document).one("mousemove.owl.core touchmove.owl.core",$.proxy(function(event){var delta=this.difference(this._drag.pointer,this.pointer(event));$(document).on("mousemove.owl.core touchmove.owl.core",$.proxy(this.onDragMove,this)),Math.abs(delta.x)<Math.abs(delta.y)&&this.is("valid")||(event.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},Owl.prototype.onDragMove=function(event){var minimum=null,maximum=null,pull=null,delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this.difference(this._drag.stage.start,delta);this.is("dragging")&&(event.preventDefault(),this.settings.loop?(minimum=this.coordinates(this.minimum()),maximum=this.coordinates(this.maximum()+1)-minimum,stage.x=((stage.x-minimum)%maximum+maximum)%maximum+minimum):(minimum=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),maximum=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),pull=this.settings.pullDrag?-1*delta.x/5:0,stage.x=Math.max(Math.min(stage.x,minimum+pull),maximum+pull)),this._drag.stage.current=stage,this.animate(stage.x))},Owl.prototype.onDragEnd=function(event){var delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this._drag.stage.current,direction=delta.x>0^this.settings.rtl?"left":"right";$(document).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==delta.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(stage.x,0!==delta.x?direction:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=direction,(Math.abs(delta.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},Owl.prototype.closest=function(coordinate,direction){var position=-1,pull=30,width=this.width(),coordinates=this.coordinates();return this.settings.freeDrag||$.each(coordinates,$.proxy(function(index,value){return"left"===direction&&coordinate>value-pull&&coordinate<value+pull?position=index:"right"===direction&&coordinate>value-width-pull&&coordinate<value-width+pull?position=index+1:this.op(coordinate,"<",value)&&this.op(coordinate,">",coordinates[index+1]!==undefined?coordinates[index+1]:value-width)&&(position="left"===direction?index+1:index),-1===position},this)),this.settings.loop||(this.op(coordinate,">",coordinates[this.minimum()])?position=coordinate=this.minimum():this.op(coordinate,"<",coordinates[this.maximum()])&&(position=coordinate=this.maximum())),position},Owl.prototype.animate=function(coordinate){var animate=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),animate&&(this.enter("animating"),this.trigger("translate")),$.support.transform3d&&$.support.transition?this.$stage.css({transform:"translate3d("+coordinate+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):animate?this.$stage.animate({left:coordinate+"px"},this.speed(),this.settings.fallbackEasing,$.proxy(this.onTransitionEnd,this)):this.$stage.css({left:coordinate+"px"})},Owl.prototype.is=function(state){return this._states.current[state]&&this._states.current[state]>0},Owl.prototype.current=function(position){if(position===undefined)return this._current;if(0===this._items.length)return undefined;if(position=this.normalize(position),this._current!==position){var event=this.trigger("change",{property:{name:"position",value:position}});event.data!==undefined&&(position=this.normalize(event.data)),this._current=position,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},Owl.prototype.invalidate=function(part){return"string"===$.type(part)&&(this._invalidated[part]=!0,this.is("valid")&&this.leave("valid")),$.map(this._invalidated,function(v,i){return i})},Owl.prototype.reset=function(position){(position=this.normalize(position))!==undefined&&(this._speed=0,this._current=position,this.suppress(["translate","translated"]),this.animate(this.coordinates(position)),this.release(["translate","translated"]))},Owl.prototype.normalize=function(position,relative){var n=this._items.length,m=relative?0:this._clones.length;return!this.isNumeric(position)||n<1?position=undefined:(position<0||position>=n+m)&&(position=((position-m/2)%n+n)%n+m/2),position},Owl.prototype.relative=function(position){return position-=this._clones.length/2,this.normalize(position,!0)},Owl.prototype.maximum=function(relative){var iterator,reciprocalItemsWidth,elementWidth,settings=this.settings,maximum=this._coordinates.length;if(settings.loop)maximum=this._clones.length/2+this._items.length-1;else if(settings.autoWidth||settings.merge){if(iterator=this._items.length)for(reciprocalItemsWidth=this._items[--iterator].width(),elementWidth=this.$element.width();iterator--&&!((reciprocalItemsWidth+=this._items[iterator].width()+this.settings.margin)>elementWidth););maximum=iterator+1}else maximum=settings.center?this._items.length-1:this._items.length-settings.items;return relative&&(maximum-=this._clones.length/2),Math.max(maximum,0)},Owl.prototype.minimum=function(relative){return relative?0:this._clones.length/2},Owl.prototype.items=function(position){return position===undefined?this._items.slice():(position=this.normalize(position,!0),this._items[position])},Owl.prototype.mergers=function(position){return position===undefined?this._mergers.slice():(position=this.normalize(position,!0),this._mergers[position])},Owl.prototype.clones=function(position){var odd=this._clones.length/2,even=odd+this._items.length,map=function(index){return index%2==0?even+index/2:odd-(index+1)/2};return position===undefined?$.map(this._clones,function(v,i){return map(i)}):$.map(this._clones,function(v,i){return v===position?map(i):null})},Owl.prototype.speed=function(speed){return speed!==undefined&&(this._speed=speed),this._speed},Owl.prototype.coordinates=function(position){var coordinate,multiplier=1,newPosition=position-1;return position===undefined?$.map(this._coordinates,$.proxy(function(coordinate,index){return this.coordinates(index)},this)):(this.settings.center?(this.settings.rtl&&(multiplier=-1,newPosition=position+1),coordinate=this._coordinates[position],coordinate+=(this.width()-coordinate+(this._coordinates[newPosition]||0))/2*multiplier):coordinate=this._coordinates[newPosition]||0,coordinate=Math.ceil(coordinate))},Owl.prototype.duration=function(from,to,factor){return 0===factor?0:Math.min(Math.max(Math.abs(to-from),1),6)*Math.abs(factor||this.settings.smartSpeed)},Owl.prototype.to=function(position,speed){var current=this.current(),revert=null,distance=position-this.relative(current),direction=(distance>0)-(distance<0),items=this._items.length,minimum=this.minimum(),maximum=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(distance)>items/2&&(distance+=-1*direction*items),position=current+distance,(revert=((position-minimum)%items+items)%items+minimum)!==position&&revert-distance<=maximum&&revert-distance>0&&(current=revert-distance,position=revert,this.reset(current))):this.settings.rewind?(maximum+=1,position=(position%maximum+maximum)%maximum):position=Math.max(minimum,Math.min(maximum,position)),this.speed(this.duration(current,position,speed)),this.current(position),this.isVisible()&&this.update()},Owl.prototype.next=function(speed){speed=speed||!1,this.to(this.relative(this.current())+1,speed)},Owl.prototype.prev=function(speed){speed=speed||!1,this.to(this.relative(this.current())-1,speed)},Owl.prototype.onTransitionEnd=function(event){if(event!==undefined&&(event.stopPropagation(),(event.target||event.srcElement||event.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},Owl.prototype.viewport=function(){var width;return this.options.responsiveBaseElement!==window?width=$(this.options.responsiveBaseElement).width():window.innerWidth?width=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?width=document.documentElement.clientWidth:console.warn("Can not detect viewport width."),width},Owl.prototype.replace=function(content){this.$stage.empty(),this._items=[],content&&(content=content instanceof jQuery?content:$(content)),this.settings.nestedItemSelector&&(content=content.find("."+this.settings.nestedItemSelector)),content.filter(function(){return 1===this.nodeType}).each($.proxy(function(index,item){item=this.prepare(item),this.$stage.append(item),this._items.push(item),this._mergers.push(1*item.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},Owl.prototype.add=function(content,position){var current=this.relative(this._current);position=position===undefined?this._items.length:this.normalize(position,!0),content=content instanceof jQuery?content:$(content),this.trigger("add",{content:content,position:position}),content=this.prepare(content),0===this._items.length||position===this._items.length?(0===this._items.length&&this.$stage.append(content),0!==this._items.length&&this._items[position-1].after(content),this._items.push(content),this._mergers.push(1*content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[position].before(content),this._items.splice(position,0,content),this._mergers.splice(position,0,1*content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[current]&&this.reset(this._items[current].index()),this.invalidate("items"),this.trigger("added",{content:content,position:position})},Owl.prototype.remove=function(position){(position=this.normalize(position,!0))!==undefined&&(this.trigger("remove",{content:this._items[position],position:position}),this._items[position].remove(),this._items.splice(position,1),this._mergers.splice(position,1),this.invalidate("items"),this.trigger("removed",{content:null,position:position}))},Owl.prototype.preloadAutoWidthImages=function(images){images.each($.proxy(function(i,element){this.enter("pre-loading"),element=$(element),$(new Image).one("load",$.proxy(function(e){element.attr("src",e.target.src),element.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",element.attr("src")||element.attr("data-src")||element.attr("data-src-retina"))},this))},Owl.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),$(document).off(".owl.core"),!1!==this.settings.responsive&&(window.clearTimeout(this.resizeTimer),this.off(window,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},Owl.prototype.op=function(a,o,b){var rtl=this.settings.rtl;switch(o){case"<":return rtl?a>b:a<b;case">":return rtl?a<b:a>b;case">=":return rtl?a<=b:a>=b;case"<=":return rtl?a>=b:a<=b}},Owl.prototype.on=function(element,event,listener,capture){element.addEventListener?element.addEventListener(event,listener,capture):element.attachEvent&&element.attachEvent("on"+event,listener)},Owl.prototype.off=function(element,event,listener,capture){element.removeEventListener?element.removeEventListener(event,listener,capture):element.detachEvent&&element.detachEvent("on"+event,listener)},Owl.prototype.trigger=function(name,data,namespace,state,enter){var status={item:{count:this._items.length,index:this.current()}},handler=$.camelCase($.grep(["on",name,namespace],function(v){return v}).join("-").toLowerCase()),event=$.Event([name,"owl",namespace||"carousel"].join(".").toLowerCase(),$.extend({relatedTarget:this},status,data));return this._supress[name]||($.each(this._plugins,function(name,plugin){plugin.onTrigger&&plugin.onTrigger(event)}),this.register({type:Owl.Type.Event,name:name}),this.$element.trigger(event),this.settings&&"function"==typeof this.settings[handler]&&this.settings[handler].call(this,event)),event},Owl.prototype.enter=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]===undefined&&(this._states.current[name]=0),this._states.current[name]++},this))},Owl.prototype.leave=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]--},this))},Owl.prototype.register=function(object){if(object.type===Owl.Type.Event){if($.event.special[object.name]||($.event.special[object.name]={}),!$.event.special[object.name].owl){var _default=$.event.special[object.name]._default;$.event.special[object.name]._default=function(e){return!_default||!_default.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:_default.apply(this,arguments)},$.event.special[object.name].owl=!0}}else object.type===Owl.Type.State&&(this._states.tags[object.name]?this._states.tags[object.name]=this._states.tags[object.name].concat(object.tags):this._states.tags[object.name]=object.tags,this._states.tags[object.name]=$.grep(this._states.tags[object.name],$.proxy(function(tag,i){return $.inArray(tag,this._states.tags[object.name])===i},this)))},Owl.prototype.suppress=function(events){$.each(events,$.proxy(function(index,event){this._supress[event]=!0},this))},Owl.prototype.release=function(events){$.each(events,$.proxy(function(index,event){delete this._supress[event]},this))},Owl.prototype.pointer=function(event){var result={x:null,y:null};return event=event.originalEvent||event||window.event,event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event,event.pageX?(result.x=event.pageX,result.y=event.pageY):(result.x=event.clientX,result.y=event.clientY),result},Owl.prototype.isNumeric=function(number){return!isNaN(parseFloat(number))},Owl.prototype.difference=function(first,second){return{x:first.x-second.x,y:first.y-second.y}},$.fn.owlCarousel=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("owl.carousel");data||(data=new Owl(this,"object"==typeof option&&option),$this.data("owl.carousel",data),$.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(i,event){data.register({type:Owl.Type.Event,name:event}),data.$element.on(event+".owl.carousel.core",$.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([event]),data[event].apply(this,[].slice.call(arguments,1)),this.release([event]))},data))})),"string"==typeof option&&"_"!==option.charAt(0)&&data[option].apply(data,args)})},$.fn.owlCarousel.Constructor=Owl}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoRefresh=function(carousel){this._core=carousel,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=$.extend({},AutoRefresh.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoRefresh.Defaults={autoRefresh:!0,autoRefreshInterval:500},AutoRefresh.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=window.setInterval($.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},AutoRefresh.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},AutoRefresh.prototype.destroy=function(){var handler,property;window.clearInterval(this._interval);for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoRefresh=AutoRefresh}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Lazy=function(carousel){this._core=carousel,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var settings=this._core.settings,n=settings.center&&Math.ceil(settings.items/2)||settings.items,i=settings.center&&-1*n||0,position=(e.property&&e.property.value!==undefined?e.property.value:this._core.current())+i,clones=this._core.clones().length,load=$.proxy(function(i,v){this.load(v)},this);for(settings.lazyLoadEager>0&&(n+=settings.lazyLoadEager,settings.loop&&(position-=settings.lazyLoadEager,n++));i++<n;)this.load(clones/2+this._core.relative(position)),clones&&$.each(this._core.clones(this._core.relative(position)),load),position++}},this)},this._core.options=$.extend({},Lazy.Defaults,this._core.options),this._core.$element.on(this._handlers)};Lazy.Defaults={lazyLoad:!1,lazyLoadEager:0},Lazy.prototype.load=function(position){var $item=this._core.$stage.children().eq(position),$elements=$item&&$item.find(".owl-lazy");!$elements||$.inArray($item.get(0),this._loaded)>-1||($elements.each($.proxy(function(index,element){var image,$element=$(element),url=window.devicePixelRatio>1&&$element.attr("data-src-retina")||$element.attr("data-src")||$element.attr("data-srcset");this._core.trigger("load",{element:$element,url:url},"lazy"),$element.is("img")?$element.one("load.owl.lazy",$.proxy(function(){$element.css("opacity",1),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("src",url):$element.is("source")?$element.one("load.owl.lazy",$.proxy(function(){this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("srcset",url):(image=new Image,image.onload=$.proxy(function(){$element.css({"background-image":'url("'+url+'")',opacity:"1"}),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this),image.src=url)},this)),this._loaded.push($item.get(0)))},Lazy.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this._core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Lazy=Lazy}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoHeight=function(carousel){this._core=carousel,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"===e.property.name&&this.update()},this),"loaded.owl.lazy":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=$.extend({},AutoHeight.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var refThis=this;$(window).on("load",function(){refThis._core.settings.autoHeight&&refThis.update()}),$(window).resize(function(){refThis._core.settings.autoHeight&&(null!=refThis._intervalId&&clearTimeout(refThis._intervalId),refThis._intervalId=setTimeout(function(){refThis.update()},250))})};AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.update=function(){var start=this._core._current,end=start+this._core.settings.items,lazyLoadEnabled=this._core.settings.lazyLoad,visible=this._core.$stage.children().toArray().slice(start,end),heights=[],maxheight=0;$.each(visible,function(index,item){heights.push($(item).height())}),maxheight=Math.max.apply(null,heights),maxheight<=1&&lazyLoadEnabled&&this._previousHeight&&(maxheight=this._previousHeight),this._previousHeight=maxheight,this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},AutoHeight.prototype.destroy=function(){var handler,property;for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Video=function(carousel){this._core=carousel,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var $element=$(e.content).find(".owl-video");$element.length&&($element.css("display","none"),this.fetch($element,$(e.content)))}},this)},this._core.options=$.extend({},Video.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",$.proxy(function(e){this.play(e)},this))};Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.fetch=function(target,item){var type=function(){return target.attr("data-vimeo-id")?"vimeo":target.attr("data-vzaar-id")?"vzaar":"youtube"}(),id=target.attr("data-vimeo-id")||target.attr("data-youtube-id")||target.attr("data-vzaar-id"),width=target.attr("data-width")||this._core.settings.videoWidth,height=target.attr("data-height")||this._core.settings.videoHeight,url=target.attr("href");if(!url)throw new Error("Missing video URL.");if(id=url.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),id[3].indexOf("youtu")>-1)type="youtube";else if(id[3].indexOf("vimeo")>-1)type="vimeo";else{if(!(id[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");type="vzaar"}id=id[6],this._videos[url]={type:type,id:id,width:width,height:height},item.attr("data-video",url),this.thumbnail(target,this._videos[url])},Video.prototype.thumbnail=function(target,video){var tnLink,icon,path,dimensions=video.width&&video.height?"width:"+video.width+"px;height:"+video.height+"px;":"",customTn=target.find("img"),srcType="src",lazyClass="",settings=this._core.settings,create=function(path){icon='<div class="owl-video-play-icon"></div>',tnLink=settings.lazyLoad?$("<div/>",{class:"owl-video-tn "+lazyClass,srcType:path}):$("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+path+")"}),target.after(tnLink),target.after(icon)};if(target.wrap($("<div/>",{class:"owl-video-wrapper",style:dimensions})),this._core.settings.lazyLoad&&(srcType="data-src",lazyClass="owl-lazy"),customTn.length)return create(customTn.attr(srcType)),customTn.remove(),!1;"youtube"===video.type?(path="//img.youtube.com/vi/"+video.id+"/hqdefault.jpg",create(path)):"vimeo"===video.type?$.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data[0].thumbnail_large,create(path)}}):"vzaar"===video.type&&$.ajax({type:"GET",url:"//vzaar.com/api/videos/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data.framegrab_url,create(path)}})},Video.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},Video.prototype.play=function(event){var html,target=$(event.target),item=target.closest("."+this._core.settings.itemClass),video=this._videos[item.attr("data-video")],width=video.width||"100%",height=video.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),item=this._core.items(this._core.relative(item.index())),this._core.reset(item.index()),html=$('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),html.attr("height",height),html.attr("width",width),"youtube"===video.type?html.attr("src","//www.youtube.com/embed/"+video.id+"?autoplay=1&rel=0&v="+video.id):"vimeo"===video.type?html.attr("src","//player.vimeo.com/video/"+video.id+"?autoplay=1"):"vzaar"===video.type&&html.attr("src","//view.vzaar.com/"+video.id+"/player?autoplay=true"),$(html).wrap('<div class="owl-video-frame" />').insertAfter(item.find(".owl-video")),this._playing=item.addClass("owl-video-playing"))},Video.prototype.isInFullScreen=function(){var element=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return element&&$(element).parent().hasClass("owl-video-frame")},Video.prototype.destroy=function(){var handler,property;this._core.$element.off("click.owl.video");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Video=Video}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Animate=function(scope){this.core=scope,this.core.options=$.extend({},Animate.Defaults,this.core.options),this.swapping=!0,this.previous=undefined,this.next=undefined,this.handlers={"change.owl.carousel":$.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":$.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":$.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(1===this.core.settings.items&&$.support.animation&&$.support.transition){this.core.speed(0);var left,clear=$.proxy(this.clear,this),previous=this.core.$stage.children().eq(this.previous),next=this.core.$stage.children().eq(this.next),incoming=this.core.settings.animateIn,outgoing=this.core.settings.animateOut;this.core.current()!==this.previous&&(outgoing&&(left=this.core.coordinates(this.previous)-this.core.coordinates(this.next),previous.one($.support.animation.end,clear).css({left:left+"px"}).addClass("animated owl-animated-out").addClass(outgoing)),incoming&&next.one($.support.animation.end,clear).addClass("animated owl-animated-in").addClass(incoming))}},Animate.prototype.clear=function(e){$(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},Animate.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this.core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Animate=Animate}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Autoplay=function(carousel){this._core=carousel,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":$.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":$.proxy(function(e,t,s){e.namespace&&this.play(t,s)},this),"stop.owl.autoplay":$.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":$.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=$.extend({},Autoplay.Defaults,this._core.options)};Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype._next=function(speed){this._call=window.setTimeout($.proxy(this._next,this,speed),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||document.hidden||this._core.next(speed||this._core.settings.autoplaySpeed)},Autoplay.prototype.read=function(){return(new Date).getTime()-this._time},Autoplay.prototype.play=function(timeout,speed){var elapsed;this._core.is("rotating")||this._core.enter("rotating"),timeout=timeout||this._core.settings.autoplayTimeout,elapsed=Math.min(this._time%(this._timeout||timeout),timeout),this._paused?(this._time=this.read(),this._paused=!1):window.clearTimeout(this._call),this._time+=this.read()%timeout-elapsed,this._timeout=timeout,this._call=window.setTimeout($.proxy(this._next,this,speed),timeout-elapsed)},Autoplay.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,window.clearTimeout(this._call),this._core.leave("rotating"))},Autoplay.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,window.clearTimeout(this._call))},Autoplay.prototype.destroy=function(){var handler,property;this.stop();for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Navigation=function(carousel){this._core=carousel,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+$(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=$.extend({},Navigation.Defaults,this._core.options),this.$element.on(this._handlers)};Navigation.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},Navigation.prototype.initialize=function(){var override,settings=this._core.settings;this._controls.$relative=(settings.navContainer?$(settings.navContainer):$("<div>").addClass(settings.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=$("<"+settings.navElement+">").addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on("click",$.proxy(function(e){this.prev(settings.navSpeed)},this)),this._controls.$next=$("<"+settings.navElement+">").addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on("click",$.proxy(function(e){this.next(settings.navSpeed)},this)),settings.dotsData||(this._templates=[$('<button role="button">').addClass(settings.dotClass).append($("<span>")).prop("outerHTML")]),this._controls.$absolute=(settings.dotsContainer?$(settings.dotsContainer):$("<div>").addClass(settings.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",$.proxy(function(e){var index=$(e.target).parent().is(this._controls.$absolute)?$(e.target).index():$(e.target).parent().index();e.preventDefault(),this.to(index,settings.dotsSpeed)},this));for(override in this._overrides)this._core[override]=$.proxy(this[override],this)},Navigation.prototype.destroy=function(){var handler,control,property,override,settings;settings=this._core.settings;for(handler in this._handlers)this.$element.off(handler,this._handlers[handler]);for(control in this._controls)"$relative"===control&&settings.navContainer?this._controls[control].html(""):this._controls[control].remove();for(override in this.overides)this._core[override]=this._overrides[override];for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},Navigation.prototype.update=function(){var i,j,k,lower=this._core.clones().length/2,upper=lower+this._core.items().length,maximum=this._core.maximum(!0),settings=this._core.settings,size=settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items;if("page"!==settings.slideBy&&(settings.slideBy=Math.min(settings.slideBy,settings.items)),settings.dots||"page"==settings.slideBy)for(this._pages=[],i=lower,j=0,k=0;i<upper;i++){if(j>=size||0===j){if(this._pages.push({start:Math.min(maximum,i-lower),end:i-lower+size-1}),Math.min(maximum,i-lower)===maximum)break;j=0,++k}j+=this._core.mergers(this._core.relative(i))}},Navigation.prototype.draw=function(){var difference,settings=this._core.settings,disabled=this._core.items().length<=settings.items,index=this._core.relative(this._core.current()),loop=settings.loop||settings.rewind;this._controls.$relative.toggleClass("disabled",!settings.nav||disabled),settings.nav&&(this._controls.$previous.toggleClass("disabled",!loop&&index<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!loop&&index>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!settings.dots||disabled),settings.dots&&(difference=this._pages.length-this._controls.$absolute.children().length,settings.dotsData&&0!==difference?this._controls.$absolute.html(this._templates.join("")):difference>0?this._controls.$absolute.append(new Array(difference+1).join(this._templates[0])):difference<0&&this._controls.$absolute.children().slice(difference).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq($.inArray(this.current(),this._pages)).addClass("active"))},Navigation.prototype.onTrigger=function(event){var settings=this._core.settings;event.page={index:$.inArray(this.current(),this._pages),count:this._pages.length,size:settings&&(settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items)}},Navigation.prototype.current=function(){var current=this._core.relative(this._core.current());return $.grep(this._pages,$.proxy(function(page,index){return page.start<=current&&page.end>=current},this)).pop()},Navigation.prototype.getPosition=function(successor){var position,length,settings=this._core.settings;return"page"==settings.slideBy?(position=$.inArray(this.current(),this._pages),length=this._pages.length,successor?++position:--position,position=this._pages[(position%length+length)%length].start):(position=this._core.relative(this._core.current()),length=this._core.items().length,successor?position+=settings.slideBy:position-=settings.slideBy),position},Navigation.prototype.next=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!0),speed)},Navigation.prototype.prev=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!1),speed)},Navigation.prototype.to=function(position,speed,standard){var length;!standard&&this._pages.length?(length=this._pages.length,$.proxy(this._overrides.to,this._core)(this._pages[(position%length+length)%length].start,speed)):$.proxy(this._overrides.to,this._core)(position,speed)},$.fn.owlCarousel.Constructor.Plugins.Navigation=Navigation}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Hash=function(carousel){this._core=carousel,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&"URLHash"===this._core.settings.startPosition&&$(window).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var hash=$(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!hash)return;this._hashes[hash]=e.content}},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&"position"===e.property.name){var current=this._core.items(this._core.relative(this._core.current())),hash=$.map(this._hashes,function(item,hash){return item===current?hash:null}).join();if(!hash||window.location.hash.slice(1)===hash)return;window.location.hash=hash}},this)},this._core.options=$.extend({},Hash.Defaults,this._core.options),this.$element.on(this._handlers),$(window).on("hashchange.owl.navigation",$.proxy(function(e){var hash=window.location.hash.substring(1),items=this._core.$stage.children(),position=this._hashes[hash]&&items.index(this._hashes[hash]);position!==undefined&&position!==this._core.current()&&this._core.to(this._core.relative(position),!1,!0)},this))};Hash.Defaults={URLhashListener:!1},Hash.prototype.destroy=function(){var handler,property;$(window).off("hashchange.owl.navigation");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Hash=Hash}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){function test(property,prefixed){var result=!1,upper=property.charAt(0).toUpperCase()+property.slice(1);return $.each((property+" "+prefixes.join(upper+" ")+upper).split(" "),function(i,property){if(style[property]!==undefined)return result=!prefixed||property,!1}),result}function prefixed(property){return test(property,!0)}var style=$("<support>").get(0).style,prefixes="Webkit Moz O ms".split(" "),events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},tests={csstransforms:function(){return!!test("transform")},csstransforms3d:function(){return!!test("perspective")},csstransitions:function(){return!!test("transition")},cssanimations:function(){return!!test("animation")}};tests.csstransitions()&&($.support.transition=new String(prefixed("transition")),$.support.transition.end=events.transition.end[$.support.transition]),tests.cssanimations()&&($.support.animation=new String(prefixed("animation")),$.support.animation.end=events.animation.end[$.support.animation]),tests.csstransforms()&&($.support.transform=new String(prefixed("transform")),$.support.transform3d=tests.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function($){"use strict";$(".object-home-carousel").owlCarousel({items:1,margin:0,dots:!1,nav:!0,loop:!1,autoplayTimeout:5e3,smartSpeed:800,autoplayHoverPause:!0,navText:['<span class="icon icon-prev"></span>','<span class="icon icon-next"></span>'],navClass:["owl-btn prev","owl-btn next"],responsive:{0:{items:1},800:{items:1},1150:{margin:15,items:2},1200:{items:3}}}),$(".build-home-carousel").owlCarousel({items:1,margin:0,dots:!1,nav:!0,loop:!1,autoplayTimeout:5e3,smartSpeed:800,autoplayHoverPause:!0,navText:['<span class="icon icon-prev"></span>','<span class="icon icon-next"></span>'],navClass:["owl-btn prev","owl-btn next"],responsive:{0:{items:1},800:{items:1},1150:{margin:15,items:2},1200:{items:3}}}),$(".object-carousel").owlCarousel({items:1,margin:0,dots:!1,nav:!0,loop:!1,autoplayTimeout:5e3,smartSpeed:800,autoplayHoverPause:!0,navText:['<span class="icon icon-prev"></span>','<span class="icon icon-next"></span>'],navClass:["owl-btn prev","owl-btn next"],responsive:{0:{items:1},800:{items:1},1150:{items:3},1200:{items:3}}}),$(".build-carousel").owlCarousel({items:1,margin:0,dots:!1,nav:!0,loop:!1,autoplayTimeout:5e3,smartSpeed:800,autoplayHoverPause:!0,navText:['<span class="icon icon-prev"></span>','<span class="icon icon-next"></span>'],navClass:["owl-btn prev","owl-btn next"],responsive:{0:{items:1},800:{items:1},1150:{margin:15,items:2},1200:{items:3}}}),$(".about-carousel").owlCarousel({items:1,margin:0,dots:!0,nav:!0,loop:!0,autoplay:!0,autoplayTimeout:5e3,smartSpeed:800,autoplayHoverPause:!0,navText:['<span class="icon icon-prev"></span>','<span class="icon icon-next"></span>'],navClass:["owl-btn prev","owl-btn next"],responsive:{0:{items:1},800:{items:1},1150:{items:1},1200:{items:1}}})}(jQuery),jQuery,function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-inner").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.7",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("_overflow"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("_fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("_in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("_in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("_fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("_overflow"),that.$dialog.removeClass("_in"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("_fade")?"_fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("_in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("_in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("_fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modalScrollbarMeasure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),function($){function openTabs(el){var btnTarget=el.currentTarget,item=btnTarget.dataset.item;tabContent.forEach(function(el){el.classList.remove("active")}),tabLinks.forEach(function(el){el.classList.remove("active")}),document.querySelector("#"+item).classList.add("active"),btnTarget.classList.add("active")}function openTabs2(el){var btnTarget2=el.currentTarget,item=btnTarget2.dataset.item;tabContent2.forEach(function(el){el.classList.remove("active")}),tabLinks2.forEach(function(el){el.classList.remove("active")}),document.querySelector("#"+item).classList.add("active"),btnTarget2.classList.add("active")}$("#modal").on("show.bs.modal",function(event){var button=$(event.relatedTarget),modalTitle=button.data("title"),modal=$(this);modal.find(".modal-title").text(modalTitle),modal.find(".send-title").val(modalTitle)}),$("#modal2").on("show.bs.modal",function(event){var button=$(event.relatedTarget),modalTitle=button.data("title"),modal=$(this);modal.find(".modal-title").text(modalTitle),modal.find(".send-title").val(modalTitle)}),$("#modal3").on("show.bs.modal",function(event){var button=$(event.relatedTarget),modalTitle=button.data("title"),modal=$(this);modal.find(".modal-title").text(modalTitle),modal.find(".send-title").val(modalTitle)});var tabLinks=document.querySelectorAll(".tablinks-1"),tabContent=document.querySelectorAll(".tabcontent-1");tabLinks.forEach(function(el){el.addEventListener("click",openTabs)});var tabLinks2=document.querySelectorAll(".tablinks-2"),tabContent2=document.querySelectorAll(".tabcontent-2");tabLinks2.forEach(function(el){el.addEventListener("click",openTabs2)}),$(".js-btn-2").on("click",function(){$(".js-tab-2").addClass("active")}),$(".tablinks-1").on("click",function(){$(this).removeClass("js-visible"),$(this).removeClass("active"),$(".js-tabs-2").addClass("js-visible")})}(jQuery);
//# sourceMappingURL=scripts.min.js.map